import{s as Ke,n as Kt}from"../chunks/scheduler.b95eede2.js";import{S as Qe,i as We,g as l,s as v,m as Lt,h as n,y as m,c as _,j as x,f as r,n as St,k as a,A as tt,a as C,z as e,o as he,C as ce}from"../chunks/index.724bd77e.js";import{e as Ct}from"../chunks/each.e59479a4.js";import"../chunks/paths.72c6fa03.js";const Xe=async({fetch:u})=>{let o=[],c=[];const d=await u("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});d.ok&&(o=await d.json());const h=await u("/api/admin/user",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return h.ok&&(c=await h.json()),{columns:o,users:c}},ol=Object.freeze(Object.defineProperty({__proto__:null,load:Xe},Symbol.toStringTag,{value:"Module"}));function Ge(u,o,c){const d=u.slice();return d[3]=o[c],d}function Ye(u,o,c){const d=u.slice();return d[6]=o[c],d}function ze(u,o,c){const d=u.slice();return d[6]=o[c],d}function Ve(u){let o,c=u[6]["display-name"]+"",d;return{c(){o=l("th"),d=Lt(c)},l(h){o=n(h,"TH",{});var T=x(o);d=St(T,c),T.forEach(r)},m(h,T){C(h,o,T),e(o,d)},p:Kt,d(h){h&&r(o)}}}function Fe(u){let o,c=u[3][u[6]["column-code"]]+"",d;return{c(){o=l("td"),d=Lt(c)},l(h){o=n(h,"TD",{});var T=x(o);d=St(T,c),T.forEach(r)},m(h,T){C(h,o,T),e(o,d)},p:Kt,d(h){h&&r(o)}}}function Je(u){let o,c,d='<input type="checkbox"/>',h,T,N,A='<button type="button" lr-click="openEdit($index)">Edit</button> <button type="button" lr-click="deleteUser($index)">Delete</button>',pt,S=Ct(u[1]),f=[];for(let g=0;g<S.length;g+=1)f[g]=Fe(Ye(u,S,g));return{c(){o=l("tr"),c=l("td"),c.innerHTML=d,h=v();for(let g=0;g<f.length;g+=1)f[g].c();T=v(),N=l("td"),N.innerHTML=A,pt=v()},l(g){o=n(g,"TR",{});var y=x(o);c=n(y,"TD",{"data-svelte-h":!0}),m(c)!=="svelte-1hhs2bv"&&(c.innerHTML=d),h=_(y);for(let p=0;p<f.length;p+=1)f[p].l(y);T=_(y),N=n(y,"TD",{"data-svelte-h":!0}),m(N)!=="svelte-1p5e5cv"&&(N.innerHTML=A),pt=_(y),y.forEach(r)},m(g,y){C(g,o,y),e(o,c),e(o,h);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(o,null);e(o,T),e(o,N),e(o,pt)},p(g,y){if(y&6){S=Ct(g[1]);let p;for(p=0;p<S.length;p+=1){const et=Ye(g,S,p);f[p]?f[p].p(et,y):(f[p]=Fe(et),f[p].c(),f[p].m(o,T))}for(;p<f.length;p+=1)f[p].d(1);f.length=S.length}},d(g){g&&r(o),ce(f,g)}}}function Ze(u){let o,c="Admin / User list",d,h,T="Users list",N,A,pt="Add user",S,f,g="Search:",y,p,et,j,fe="Search",Ut,U,gt,M,vt,me='<input type="checkbox"/>',Qt,wt,_t,xe="Control",Wt,lt,Ce='<td></td> <td></td> <td><input type="text" name="userid" value="" placeholder="Userid"/></td> <td><input type="password" name="password" value="" placeholder="Password"/></td> <td><input type="text" name="email" value="" placeholder="Email"/></td> <td><input type="text" name="grade" onchange="restrictDatalist(this)" list="grade-list" value="" placeholder="Grade"/></td> <td><input type="text" name="approval" onchange="restrictDatalist(this)" list="yn-list" value="" autocomplete="off" placeholder="Approval"/></td> <td><button type="button" onclick="closeAdd()">Cancel</button> <button type="button" onclick="addUser()">Save</button></td>',Xt,B,b,Mt,Zt,nt,W,jt,te,Tt,bt=u[0].idx+"",Bt,ee,yt,R,Et,le,ht,ge='<input type="password" name="password" value="" placeholder="Password"/>',ne,kt,$,Dt,ae,Pt,w,Nt,oe,At,O,Ot,re,ct,Te='<button type="button" onclick="closeEdit()">Cancel</button> <button type="button" onclick="updateUser()">Save</button>',ie,Rt,I,q,be="Admin",G,ye="Manager",Y,Ee="Regular user",z,ke="Pending user",V,De="Banned user",F,Pe="Resigned user",$t,X,J,Ne="Y",K,Ae="N",qt,at,D,ot,Oe="«",se,rt,Ie="<",ue,ft,Z,It=u[0].page+"",Gt,Yt,de,Q,Ht=u[0].page+"",zt,Vt,pe,it,He=">",ve,st,Le="»",mt=Ct(u[1]),E=[];for(let t=0;t<mt.length;t+=1)E[t]=Ve(ze(u,mt,t));let xt=Ct(u[2]),k=[];for(let t=0;t<xt.length;t+=1)k[t]=Je(Ge(u,xt,t));return{c(){o=l("h1"),o.textContent=c,d=v(),h=l("h1"),h.textContent=T,N=v(),A=l("button"),A.textContent=pt,S=v(),f=l("label"),f.textContent=g,y=v(),p=l("input"),et=v(),j=l("button"),j.textContent=fe,Ut=v(),U=l("table"),gt=l("thead"),M=l("tr"),vt=l("td"),vt.innerHTML=me,Qt=v();for(let t=0;t<E.length;t+=1)E[t].c();wt=v(),_t=l("th"),_t.textContent=xe,Wt=v(),lt=l("tr"),lt.innerHTML=Ce,Xt=v(),B=l("tbody"),b=l("tr"),Mt=l("td"),Zt=v(),nt=l("td"),W=l("input"),te=v(),Tt=l("span"),Bt=Lt(bt),ee=v(),yt=l("td"),R=l("input"),le=v(),ht=l("td"),ht.innerHTML=ge,ne=v(),kt=l("td"),$=l("input"),ae=v(),Pt=l("td"),w=l("input"),oe=v(),At=l("td"),O=l("input"),re=v(),ct=l("td"),ct.innerHTML=Te,ie=v();for(let t=0;t<k.length;t+=1)k[t].c();Rt=v(),I=l("datalist"),q=l("option"),q.textContent=be,G=l("option"),G.textContent=ye,Y=l("option"),Y.textContent=Ee,z=l("option"),z.textContent=ke,V=l("option"),V.textContent=De,F=l("option"),F.textContent=Pe,$t=v(),X=l("datalist"),J=l("option"),J.textContent=Ne,K=l("option"),K.textContent=Ae,qt=v(),at=l("div"),D=l("div"),ot=l("span"),ot.textContent=Oe,se=v(),rt=l("span"),rt.textContent=Ie,ue=v(),ft=l("b"),Z=l("a"),Gt=Lt(It),de=v(),Q=l("a"),zt=Lt(Ht),pe=v(),it=l("span"),it.textContent=He,ve=v(),st=l("span"),st.textContent=Le,this.h()},l(t){o=n(t,"H1",{"data-svelte-h":!0}),m(o)!=="svelte-1avqiiv"&&(o.textContent=c),d=_(t),h=n(t,"H1",{"data-svelte-h":!0}),m(h)!=="svelte-m72mvo"&&(h.textContent=T),N=_(t),A=n(t,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),m(A)!=="svelte-p61jeb"&&(A.textContent=pt),S=_(t),f=n(t,"LABEL",{for:!0,"data-svelte-h":!0}),m(f)!=="svelte-1tn9osg"&&(f.textContent=g),y=_(t),p=n(t,"INPUT",{type:!0,id:!0,onkeyup:!0,placeholder:!0}),et=_(t),j=n(t,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),m(j)!=="svelte-155jhv4"&&(j.textContent=fe),Ut=_(t),U=n(t,"TABLE",{id:!0});var i=x(U);gt=n(i,"THEAD",{});var s=x(gt);M=n(s,"TR",{});var H=x(M);vt=n(H,"TD",{"data-svelte-h":!0}),m(vt)!=="svelte-yj8w97"&&(vt.innerHTML=me),Qt=_(H);for(let dt=0;dt<E.length;dt+=1)E[dt].l(H);wt=_(H),_t=n(H,"TH",{"data-svelte-h":!0}),m(_t)!=="svelte-10rrrw5"&&(_t.textContent=xe),H.forEach(r),s.forEach(r),Wt=_(i),lt=n(i,"TR",{id:!0,"data-svelte-h":!0}),m(lt)!=="svelte-5idqib"&&(lt.innerHTML=Ce),Xt=_(i),B=n(i,"TBODY",{id:!0});var Ft=x(B);b=n(Ft,"TR",{});var P=x(b);Mt=n(P,"TD",{}),x(Mt).forEach(r),Zt=_(P),nt=n(P,"TD",{});var Jt=x(nt);W=n(Jt,"INPUT",{type:!0,name:!0,placeholder:!0}),te=_(Jt),Tt=n(Jt,"SPAN",{});var Se=x(Tt);Bt=St(Se,bt),Se.forEach(r),Jt.forEach(r),ee=_(P),yt=n(P,"TD",{});var Ue=x(yt);R=n(Ue,"INPUT",{type:!0,name:!0,placeholder:!0}),Ue.forEach(r),le=_(P),ht=n(P,"TD",{"data-svelte-h":!0}),m(ht)!=="svelte-1ih4stn"&&(ht.innerHTML=ge),ne=_(P),kt=n(P,"TD",{});var we=x(kt);$=n(we,"INPUT",{type:!0,name:!0,placeholder:!0}),we.forEach(r),ae=_(P),Pt=n(P,"TD",{});var Me=x(Pt);w=n(Me,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),Me.forEach(r),oe=_(P),At=n(P,"TD",{});var je=x(At);O=n(je,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,autocomplete:!0,placeholder:!0}),je.forEach(r),re=_(P),ct=n(P,"TD",{"data-svelte-h":!0}),m(ct)!=="svelte-1ba84od"&&(ct.innerHTML=Te),P.forEach(r),ie=_(Ft);for(let dt=0;dt<k.length;dt+=1)k[dt].l(Ft);Ft.forEach(r),i.forEach(r),Rt=_(t),I=n(t,"DATALIST",{id:!0});var ut=x(I);q=n(ut,"OPTION",{"data-svelte-h":!0}),m(q)!=="svelte-17op260"&&(q.textContent=be),G=n(ut,"OPTION",{"data-svelte-h":!0}),m(G)!=="svelte-1ob7gsw"&&(G.textContent=ye),Y=n(ut,"OPTION",{"data-svelte-h":!0}),m(Y)!=="svelte-ielivd"&&(Y.textContent=Ee),z=n(ut,"OPTION",{"data-svelte-h":!0}),m(z)!=="svelte-311eip"&&(z.textContent=ke),V=n(ut,"OPTION",{"data-svelte-h":!0}),m(V)!=="svelte-1ot027p"&&(V.textContent=De),F=n(ut,"OPTION",{"data-svelte-h":!0}),m(F)!=="svelte-oqo3b7"&&(F.textContent=Pe),ut.forEach(r),$t=_(t),X=n(t,"DATALIST",{id:!0});var _e=x(X);J=n(_e,"OPTION",{"data-svelte-h":!0}),m(J)!=="svelte-bn5wcs"&&(J.textContent=Ne),K=n(_e,"OPTION",{"data-svelte-h":!0}),m(K)!=="svelte-1lj1emm"&&(K.textContent=Ae),_e.forEach(r),qt=_(t),at=n(t,"DIV",{id:!0});var Be=x(at);D=n(Be,"DIV",{"lr-loop":!0});var L=x(D);ot=n(L,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),m(ot)!=="svelte-2udg8q"&&(ot.textContent=Oe),se=_(L),rt=n(L,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),m(rt)!=="svelte-1odbese"&&(rt.textContent=Ie),ue=_(L),ft=n(L,"B",{"lr-if":!0});var Re=x(ft);Z=n(Re,"A",{href:!0,rel:!0});var $e=x(Z);Gt=St($e,It),$e.forEach(r),Re.forEach(r),de=_(L),Q=n(L,"A",{"lr-if":!0,href:!0,rel:!0});var qe=x(Q);zt=St(qe,Ht),qe.forEach(r),pe=_(L),it=n(L,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),m(it)!=="svelte-khd429"&&(it.textContent=He),ve=_(L),st=n(L,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),m(st)!=="svelte-ickxmi"&&(st.textContent=Le),L.forEach(r),Be.forEach(r),this.h()},h(){a(A,"type","button"),a(A,"onclick","openAdd()"),a(f,"for","search"),a(p,"type","text"),a(p,"id","search"),a(p,"onkeyup","pressEnter()"),a(p,"placeholder","Search for..."),a(j,"type","button"),a(j,"onclick","search()"),a(lt,"id","add-user"),a(W,"type","hidden"),a(W,"name","idx"),W.value=jt=u[0].idx,a(W,"placeholder","Index"),a(R,"type","text"),a(R,"name","userid"),R.value=Et=u[0].userid,a(R,"placeholder","Userid"),a($,"type","text"),a($,"name","email"),$.value=Dt=u[0].email,a($,"placeholder","Email"),a(w,"type","text"),a(w,"name","grade"),a(w,"onchange","restrictDatalist(this)"),a(w,"list","grade-list"),w.value=Nt=u[0].grade,a(w,"placeholder","Grade"),a(O,"type","text"),a(O,"name","approval"),a(O,"onchange","restrictDatalist(this)"),a(O,"list","yn-list"),O.value=Ot=u[0].approval,a(O,"autocomplete","off"),a(O,"placeholder","Approval"),a(B,"id","users-list-body"),a(U,"id","users-list-container"),q.__value="admin",tt(q,q.__value),G.__value="manager",tt(G,G.__value),Y.__value="regular_user",tt(Y,Y.__value),z.__value="pending_user",tt(z,z.__value),V.__value="banned_user",tt(V,V.__value),F.__value="resigned_user",tt(F,F.__value),a(I,"id","grade-list"),J.__value="Y",tt(J,J.__value),K.__value="N",tt(K,K.__value),a(X,"id","yn-list"),a(ot,"lr-if","$index == 0 && pages[0].page > 1"),a(rt,"lr-if","$index == 0 && pages[0].page > 1"),a(Z,"href",Yt=u[0].link),a(Z,"rel","external"),a(ft,"lr-if","page == usersData['current-page']"),a(Q,"lr-if","page != usersData['current-page']"),a(Q,"href",Vt=u[0].link),a(Q,"rel","external"),a(it,"lr-if","page < usersData['total-page'] && $index == (pages.length - 1)"),a(st,"lr-if","page < usersData['total-page'] && $index == (pages.length - 1)"),a(D,"lr-loop","pages"),a(at,"id","pages-container")},m(t,i){C(t,o,i),C(t,d,i),C(t,h,i),C(t,N,i),C(t,A,i),C(t,S,i),C(t,f,i),C(t,y,i),C(t,p,i),C(t,et,i),C(t,j,i),C(t,Ut,i),C(t,U,i),e(U,gt),e(gt,M),e(M,vt),e(M,Qt);for(let s=0;s<E.length;s+=1)E[s]&&E[s].m(M,null);e(M,wt),e(M,_t),e(U,Wt),e(U,lt),e(U,Xt),e(U,B),e(B,b),e(b,Mt),e(b,Zt),e(b,nt),e(nt,W),e(nt,te),e(nt,Tt),e(Tt,Bt),e(b,ee),e(b,yt),e(yt,R),e(b,le),e(b,ht),e(b,ne),e(b,kt),e(kt,$),e(b,ae),e(b,Pt),e(Pt,w),e(b,oe),e(b,At),e(At,O),e(b,re),e(b,ct),e(B,ie);for(let s=0;s<k.length;s+=1)k[s]&&k[s].m(B,null);C(t,Rt,i),C(t,I,i),e(I,q),e(I,G),e(I,Y),e(I,z),e(I,V),e(I,F),C(t,$t,i),C(t,X,i),e(X,J),e(X,K),C(t,qt,i),C(t,at,i),e(at,D),e(D,ot),e(D,se),e(D,rt),e(D,ue),e(D,ft),e(ft,Z),e(Z,Gt),e(D,de),e(D,Q),e(Q,zt),e(D,pe),e(D,it),e(D,ve),e(D,st)},p(t,[i]){if(i&2){mt=Ct(t[1]);let s;for(s=0;s<mt.length;s+=1){const H=ze(t,mt,s);E[s]?E[s].p(H,i):(E[s]=Ve(H),E[s].c(),E[s].m(M,wt))}for(;s<E.length;s+=1)E[s].d(1);E.length=mt.length}if(i&1&&jt!==(jt=t[0].idx)&&(W.value=jt),i&1&&bt!==(bt=t[0].idx+"")&&he(Bt,bt),i&1&&Et!==(Et=t[0].userid)&&R.value!==Et&&(R.value=Et),i&1&&Dt!==(Dt=t[0].email)&&$.value!==Dt&&($.value=Dt),i&1&&Nt!==(Nt=t[0].grade)&&w.value!==Nt&&(w.value=Nt),i&1&&Ot!==(Ot=t[0].approval)&&O.value!==Ot&&(O.value=Ot),i&6){xt=Ct(t[2]);let s;for(s=0;s<xt.length;s+=1){const H=Ge(t,xt,s);k[s]?k[s].p(H,i):(k[s]=Je(H),k[s].c(),k[s].m(B,null))}for(;s<k.length;s+=1)k[s].d(1);k.length=xt.length}i&1&&It!==(It=t[0].page+"")&&he(Gt,It),i&1&&Yt!==(Yt=t[0].link)&&a(Z,"href",Yt),i&1&&Ht!==(Ht=t[0].page+"")&&he(zt,Ht),i&1&&Vt!==(Vt=t[0].link)&&a(Q,"href",Vt)},i:Kt,o:Kt,d(t){t&&(r(o),r(d),r(h),r(N),r(A),r(S),r(f),r(y),r(p),r(et),r(j),r(Ut),r(U),r(Rt),r(I),r($t),r(X),r(qt),r(at)),ce(E,t),ce(k,t)}}}function tl(u,o,c){let{data:d}=o;const h=d.columns;let T=d.users;return console.log(h),console.log(T),u.$$set=N=>{"data"in N&&c(0,d=N.data)},[d,h,T]}class rl extends Qe{constructor(o){super(),We(this,o,tl,Ze,Ke,{data:0})}}export{rl as component,ol as universal};
