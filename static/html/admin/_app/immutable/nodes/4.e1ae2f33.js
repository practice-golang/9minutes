import{s as qt,n as Ut,r as Rt}from"../chunks/scheduler.e108d1fd.js";import{S as Jt,i as Gt,g as e,s,h as l,y as f,c,j as C,f as i,k as r,z as Et,a as w,x as t,A as jt,B as Yt,m as Ct,n as xt,o as bt}from"../chunks/index.7e31c220.js";function $t(u){return(u==null?void 0:u.length)!==void 0?u:Array.from(u)}const Ft=async({fetch:u})=>{let a={};const x=await u("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return x.ok&&(a=await x.json()),{columns:a}},Xt=Object.freeze(Object.defineProperty({__proto__:null,load:Ft},Symbol.toStringTag,{value:"Module"}));function wt(u,a,x){const b=u.slice();return b[4]=a[x],b}function zt(u){let a,x,b='<input type="checkbox" name="select$index" placeholder="Select"/>',k,q,Z=u[4]["display-name"]+"",y,ct,R,O=u[4]["column-code"]+"",J,pt,tt,v=u[0].columnType+"",z,vt,et,A=u[0].columnName+"",it,rt,U,at=u[0].sortOrder+"",ot,G,Y,mt=" ",F,K,ht='<button type="button" lr-click="openEdit($index)">Edit</button> <button type="button" lr-click="deleteColumn($index)">Delete</button>',B,m,Q,V=" ",j,ut,I,M,ft,lt,T,W,P,D,E,H,_t,N,$,nt,Tt,g,p,n,h,o,S=u[0].sortOrder+"",st,dt,X,Ht='<button type="button" onclick="closeEdit()">Cancel</button> <button type="button" onclick="updateColumn()">Save</button>',Dt;return{c(){a=e("tr"),x=e("td"),x.innerHTML=b,k=s(),q=e("td"),y=Ct(Z),ct=s(),R=e("td"),J=Ct(O),pt=s(),tt=e("td"),z=Ct(v),vt=s(),et=e("td"),it=Ct(A),rt=s(),U=e("td"),ot=Ct(at),G=s(),Y=e("td"),Y.textContent=mt,F=s(),K=e("td"),K.innerHTML=ht,B=s(),m=e("tr"),Q=e("td"),Q.textContent=V,j=s(),ut=e("td"),I=e("input"),ft=s(),lt=e("td"),T=e("input"),P=s(),D=e("td"),E=e("input"),_t=s(),N=e("td"),$=e("input"),Tt=s(),g=e("td"),p=e("input"),h=s(),o=e("span"),st=Ct(S),dt=s(),X=e("td"),X.innerHTML=Ht,Dt=s(),this.h()},l(_){a=l(_,"TR",{"lr-if":!0});var d=C(a);x=l(d,"TD",{"data-svelte-h":!0}),f(x)!=="svelte-2ov703"&&(x.innerHTML=b),k=c(d),q=l(d,"TD",{});var Nt=C(q);y=xt(Nt,Z),Nt.forEach(i),ct=c(d),R=l(d,"TD",{});var Lt=C(R);J=xt(Lt,O),Lt.forEach(i),pt=c(d),tt=l(d,"TD",{});var Ot=C(tt);z=xt(Ot,v),Ot.forEach(i),vt=c(d),et=l(d,"TD",{});var Mt=C(et);it=xt(Mt,A),Mt.forEach(i),rt=c(d),U=l(d,"TD",{});var gt=C(U);ot=xt(gt,at),gt.forEach(i),G=c(d),Y=l(d,"TD",{"lr-if":!0,"data-svelte-h":!0}),f(Y)!=="svelte-8zvfss"&&(Y.textContent=mt),F=c(d),K=l(d,"TD",{"lr-if":!0,"data-svelte-h":!0}),f(K)!=="svelte-jow6q5"&&(K.innerHTML=ht),d.forEach(i),B=c(_),m=l(_,"TR",{"lr-if":!0});var L=C(m);Q=l(L,"TD",{"data-svelte-h":!0}),f(Q)!=="svelte-mcho4g"&&(Q.textContent=V),j=c(L),ut=l(L,"TD",{});var kt=C(ut);I=l(kt,"INPUT",{type:!0,name:!0,placeholder:!0}),kt.forEach(i),ft=c(L),lt=l(L,"TD",{});var It=C(lt);T=l(It,"INPUT",{type:!0,name:!0,placeholder:!0}),It.forEach(i),P=c(L),D=l(L,"TD",{});var Pt=C(D);E=l(Pt,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),Pt.forEach(i),_t=c(L),N=l(L,"TD",{});var St=C(N);$=l(St,"INPUT",{type:!0,name:!0,placeholder:!0}),St.forEach(i),Tt=c(L),g=l(L,"TD",{});var yt=C(g);p=l(yt,"INPUT",{type:!0,name:!0}),h=c(yt),o=l(yt,"SPAN",{});var At=C(o);st=xt(At,S),At.forEach(i),yt.forEach(i),dt=c(L),X=l(L,"TD",{"data-svelte-h":!0}),f(X)!=="svelte-1b4w1wo"&&(X.innerHTML=Ht),Dt=c(L),L.forEach(i),this.h()},h(){r(Y,"lr-if","$index <= 6"),r(K,"lr-if","$index > 6"),r(a,"lr-if","columnEditIndex != $index"),r(I,"type","text"),r(I,"name","display-name"),I.value=M=u[0].displayName,r(I,"placeholder","Display name"),r(T,"type","text"),r(T,"name","column-code"),T.value=W=u[0].columnCode,r(T,"placeholder","Column code"),r(E,"type","text"),r(E,"name","column-type"),E.value=H=u[0].columnType,r(E,"onchange","restrictDatalist(this)"),r(E,"list","column-types"),r(E,"placeholder","Column type"),E.disabled=!0,r($,"type","text"),r($,"name","column-name"),$.value=nt=u[0].columnName,r($,"placeholder","Column name"),r(p,"type","hidden"),r(p,"name","sort-order"),p.value=n=u[0].sortOrder,r(m,"lr-if","columnEditIndex == $index")},m(_,d){w(_,a,d),t(a,x),t(a,k),t(a,q),t(q,y),t(a,ct),t(a,R),t(R,J),t(a,pt),t(a,tt),t(tt,z),t(a,vt),t(a,et),t(et,it),t(a,rt),t(a,U),t(U,ot),t(a,G),t(a,Y),t(a,F),t(a,K),w(_,B,d),w(_,m,d),t(m,Q),t(m,j),t(m,ut),t(ut,I),t(m,ft),t(m,lt),t(lt,T),t(m,P),t(m,D),t(D,E),t(m,_t),t(m,N),t(N,$),t(m,Tt),t(m,g),t(g,p),t(g,h),t(g,o),t(o,st),t(m,dt),t(m,X),t(m,Dt)},p(_,d){d&1&&v!==(v=_[0].columnType+"")&&bt(z,v),d&1&&A!==(A=_[0].columnName+"")&&bt(it,A),d&1&&at!==(at=_[0].sortOrder+"")&&bt(ot,at),d&1&&M!==(M=_[0].displayName)&&I.value!==M&&(I.value=M),d&1&&W!==(W=_[0].columnCode)&&T.value!==W&&(T.value=W),d&1&&H!==(H=_[0].columnType)&&E.value!==H&&(E.value=H),d&1&&nt!==(nt=_[0].columnName)&&$.value!==nt&&($.value=nt),d&1&&n!==(n=_[0].sortOrder)&&(p.value=n),d&1&&S!==(S=_[0].sortOrder+"")&&bt(st,S)},d(_){_&&(i(a),i(B),i(m))}}}function Kt(u){let a,x="Admin / User columns",b,k,q="User fields",Z,y,ct="Add column",R,O,J,pt='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',tt,v,z,vt=" ",et,A,it='<input type="text" name="display-name" value="" placeholder="Display name"/>',rt,U,at='<input type="text" name="column-code" value="" placeholder="Column code"/>',ot,G,Y='<input type="text" name="column-type" value="" onchange="restrictDatalist(this)" list="column-types" placeholder="Column type"/>',mt,F,K='<input type="text" name="column-name" value="" placeholder="Column name"/>',ht,B,m=" ",Q,V,j,ut="Cancel",I,M,ft="Save",lt,T,W,P,D,E="Text",H,_t="Number Integer",N,$="Number Real",nt,Tt,g=$t(u[1]),p=[];for(let n=0;n<g.length;n+=1)p[n]=zt(wt(u,g,n));return{c(){a=e("h1"),a.textContent=x,b=s(),k=e("h1"),k.textContent=q,Z=s(),y=e("button"),y.textContent=ct,R=s(),O=e("table"),J=e("thead"),J.innerHTML=pt,tt=s(),v=e("tr"),z=e("td"),z.textContent=vt,et=s(),A=e("td"),A.innerHTML=it,rt=s(),U=e("td"),U.innerHTML=at,ot=s(),G=e("td"),G.innerHTML=Y,mt=s(),F=e("td"),F.innerHTML=K,ht=s(),B=e("td"),B.textContent=m,Q=s(),V=e("td"),j=e("button"),j.textContent=ut,I=s(),M=e("button"),M.textContent=ft,lt=s(),T=e("tbody");for(let n=0;n<p.length;n+=1)p[n].c();W=s(),P=e("datalist"),D=e("option"),D.textContent=E,H=e("option"),H.textContent=_t,N=e("option"),N.textContent=$,this.h()},l(n){a=l(n,"H1",{"data-svelte-h":!0}),f(a)!=="svelte-o3nl2"&&(a.textContent=x),b=c(n),k=l(n,"H1",{"data-svelte-h":!0}),f(k)!=="svelte-o0zdvi"&&(k.textContent=q),Z=c(n),y=l(n,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),f(y)!=="svelte-1vn03ee"&&(y.textContent=ct),R=c(n),O=l(n,"TABLE",{id:!0});var h=C(O);J=l(h,"THEAD",{"data-svelte-h":!0}),f(J)!=="svelte-15hdz98"&&(J.innerHTML=pt),tt=c(h),v=l(h,"TR",{id:!0});var o=C(v);z=l(o,"TD",{"data-svelte-h":!0}),f(z)!=="svelte-mcho4g"&&(z.textContent=vt),et=c(o),A=l(o,"TD",{"data-svelte-h":!0}),f(A)!=="svelte-ikkjvy"&&(A.innerHTML=it),rt=c(o),U=l(o,"TD",{"data-svelte-h":!0}),f(U)!=="svelte-1v1ln7m"&&(U.innerHTML=at),ot=c(o),G=l(o,"TD",{"data-svelte-h":!0}),f(G)!=="svelte-jhmlmg"&&(G.innerHTML=Y),mt=c(o),F=l(o,"TD",{"data-svelte-h":!0}),f(F)!=="svelte-13gzsei"&&(F.innerHTML=K),ht=c(o),B=l(o,"TD",{"data-svelte-h":!0}),f(B)!=="svelte-mcho4g"&&(B.textContent=m),Q=c(o),V=l(o,"TD",{});var S=C(V);j=l(S,"BUTTON",{type:!0,"data-svelte-h":!0}),f(j)!=="svelte-1bq1eh0"&&(j.textContent=ut),I=c(S),M=l(S,"BUTTON",{type:!0,"data-svelte-h":!0}),f(M)!=="svelte-19ca7k8"&&(M.textContent=ft),S.forEach(i),o.forEach(i),lt=c(h),T=l(h,"TBODY",{id:!0,"lr-loop":!0});var st=C(T);for(let X=0;X<p.length;X+=1)p[X].l(st);st.forEach(i),h.forEach(i),W=c(n),P=l(n,"DATALIST",{id:!0});var dt=C(P);D=l(dt,"OPTION",{"data-svelte-h":!0}),f(D)!=="svelte-1mqqvia"&&(D.textContent=E),H=l(dt,"OPTION",{"data-svelte-h":!0}),f(H)!=="svelte-1mkb7wl"&&(H.textContent=_t),N=l(dt,"OPTION",{"data-svelte-h":!0}),f(N)!=="svelte-10956bv"&&(N.textContent=$),dt.forEach(i),this.h()},h(){r(y,"type","button"),r(y,"onclick","openAdd()"),r(j,"type","button"),r(M,"type","button"),r(v,"id","add-column"),r(T,"id","column-list-body"),r(T,"lr-loop","columnList"),r(O,"id","column-list-container"),D.__value="text",Et(D,D.__value),H.__value="number-integer",Et(H,H.__value),N.__value="number-real",Et(N,N.__value),r(P,"id","column-types")},m(n,h){w(n,a,h),w(n,b,h),w(n,k,h),w(n,Z,h),w(n,y,h),w(n,R,h),w(n,O,h),t(O,J),t(O,tt),t(O,v),t(v,z),t(v,et),t(v,A),t(v,rt),t(v,U),t(v,ot),t(v,G),t(v,mt),t(v,F),t(v,ht),t(v,B),t(v,Q),t(v,V),t(V,j),t(V,I),t(V,M),t(O,lt),t(O,T);for(let o=0;o<p.length;o+=1)p[o]&&p[o].m(T,null);w(n,W,h),w(n,P,h),t(P,D),t(P,H),t(P,N),nt||(Tt=[jt(j,"click",u[2]),jt(M,"click",u[3])],nt=!0)},p(n,[h]){if(h&3){g=$t(n[1]);let o;for(o=0;o<g.length;o+=1){const S=wt(n,g,o);p[o]?p[o].p(S,h):(p[o]=zt(S),p[o].c(),p[o].m(T,null))}for(;o<p.length;o+=1)p[o].d(1);p.length=g.length}},i:Ut,o:Ut,d(n){n&&(i(a),i(b),i(k),i(Z),i(y),i(R),i(O),i(W),i(P)),Yt(p,n),nt=!1,Rt(Tt)}}}function Bt(u){alert(`Hello ${u}!`)}function Qt(u,a,x){let{data:b}=a;const{columns:k}=b,q=()=>Bt("John"),Z=()=>Bt("Jane");return u.$$set=y=>{"data"in y&&x(0,b=y.data)},[b,k,q,Z]}class Zt extends Jt{constructor(a){super(),Gt(this,a,Qt,Kt,qt,{data:0})}}export{Zt as component,Xt as universal};
