import{s as ut,n as Q,r as dt}from"../chunks/scheduler.e108d1fd.js";import{S as it,i as ct,g as a,s as y,h as r,y as R,c as C,j as D,f as s,k as c,z as $,a as M,x as e,A as V,B as st,e as lt,m as Y,n as F}from"../chunks/index.7e31c220.js";function nt(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}const pt=async({fetch:o})=>{let t={};const n=await o("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return n.ok&&(t=await n.json()),{columns:t}},kt=Object.freeze(Object.defineProperty({__proto__:null,load:pt},Symbol.toStringTag,{value:"Module"}));function ot(o,t,n){const u=o.slice();return u[10]=t[n],u[12]=n,u}function at(o){let t,n,u=" ",p,d,_,v,E,O,m,h,w,g,P,N,q,b,S=" ",H,U,L,B="Cancel",j,I,X="Save",T,A;return{c(){t=a("tr"),n=a("td"),n.textContent=u,p=y(),d=a("td"),_=a("input"),v=y(),E=a("td"),O=a("input"),m=y(),h=a("td"),w=a("input"),g=y(),P=a("td"),N=a("input"),q=y(),b=a("td"),b.textContent=S,H=y(),U=a("td"),L=a("button"),L.textContent=B,j=y(),I=a("button"),I.textContent=X,this.h()},l(x){t=r(x,"TR",{id:!0});var l=D(t);n=r(l,"TD",{"data-svelte-h":!0}),R(n)!=="svelte-mcho4g"&&(n.textContent=u),p=C(l),d=r(l,"TD",{});var f=D(d);_=r(f,"INPUT",{type:!0,name:!0,placeholder:!0}),f.forEach(s),v=C(l),E=r(l,"TD",{});var i=D(E);O=r(i,"INPUT",{type:!0,name:!0,placeholder:!0}),i.forEach(s),m=C(l),h=r(l,"TD",{});var z=D(h);w=r(z,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),z.forEach(s),g=C(l),P=r(l,"TD",{});var k=D(P);N=r(k,"INPUT",{type:!0,name:!0,placeholder:!0}),k.forEach(s),q=C(l),b=r(l,"TD",{"data-svelte-h":!0}),R(b)!=="svelte-mcho4g"&&(b.textContent=S),H=C(l),U=r(l,"TD",{});var G=D(U);L=r(G,"BUTTON",{type:!0,"data-svelte-h":!0}),R(L)!=="svelte-1k872l3"&&(L.textContent=B),j=C(G),I=r(G,"BUTTON",{type:!0,"data-svelte-h":!0}),R(I)!=="svelte-fh99wb"&&(I.textContent=X),G.forEach(s),l.forEach(s),this.h()},h(){c(_,"type","text"),c(_,"name","display-name"),_.value=o[3]["display-name"],c(_,"placeholder","Display name"),c(O,"type","text"),c(O,"name","column-code"),O.value=o[3]["column-code"],c(O,"placeholder","Column code"),c(w,"type","text"),c(w,"name","column-type"),w.value=o[3]["column-type"],c(w,"onchange","restrictDatalist(this)"),c(w,"list","column-types"),c(w,"placeholder","Column type"),c(N,"type","text"),c(N,"name","column-name"),N.value=o[3]["column-name"],c(N,"placeholder","Column name"),c(L,"type","button"),c(I,"type","button"),c(t,"id","add-column")},m(x,l){M(x,t,l),e(t,n),e(t,p),e(t,d),e(d,_),e(t,v),e(t,E),e(E,O),e(t,m),e(t,h),e(h,w),e(t,g),e(t,P),e(P,N),e(t,q),e(t,b),e(t,H),e(t,U),e(U,L),e(U,j),e(U,I),T||(A=[V(L,"click",o[4]),V(I,"click",o[5])],T=!0)},p:Q,d(x){x&&s(t),T=!1,dt(A)}}}function ht(o){let t,n,u,p,d,_,v,E,O,m,h,w,g,P,N,q,b,S,H,U=o[10]["sort-order"]+"",L,B,j,I,X="Cancel",T,A,x="Save",l,f,i;return{c(){t=a("tr"),n=a("td"),u=y(),p=a("td"),d=a("input"),_=y(),v=a("td"),E=a("input"),O=y(),m=a("td"),h=a("input"),w=y(),g=a("td"),P=a("input"),N=y(),q=a("td"),b=a("input"),S=y(),H=a("span"),L=Y(U),B=y(),j=a("td"),I=a("button"),I.textContent=X,T=y(),A=a("button"),A.textContent=x,l=y(),this.h()},l(z){t=r(z,"TR",{"lr-if":!0});var k=D(t);n=r(k,"TD",{}),D(n).forEach(s),u=C(k),p=r(k,"TD",{});var G=D(p);d=r(G,"INPUT",{type:!0,name:!0,placeholder:!0}),G.forEach(s),_=C(k),v=r(k,"TD",{});var J=D(v);E=r(J,"INPUT",{type:!0,name:!0,placeholder:!0}),J.forEach(s),O=C(k),m=r(k,"TD",{});var K=D(m);h=r(K,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),K.forEach(s),w=C(k),g=r(k,"TD",{});var tt=D(g);P=r(tt,"INPUT",{type:!0,name:!0,placeholder:!0}),tt.forEach(s),N=C(k),q=r(k,"TD",{});var W=D(q);b=r(W,"INPUT",{type:!0,name:!0}),S=C(W),H=r(W,"SPAN",{});var et=D(H);L=F(et,U),et.forEach(s),W.forEach(s),B=C(k),j=r(k,"TD",{});var Z=D(j);I=r(Z,"BUTTON",{type:!0,"data-svelte-h":!0}),R(I)!=="svelte-qr4i42"&&(I.textContent=X),T=C(Z),A=r(Z,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),R(A)!=="svelte-12kwy68"&&(A.textContent=x),Z.forEach(s),l=C(k),k.forEach(s),this.h()},h(){c(d,"type","text"),c(d,"name","display-name"),d.value=o[10]["display-name"],c(d,"placeholder","Display name"),c(E,"type","text"),c(E,"name","column-code"),E.value=o[10]["column-code"],c(E,"placeholder","Column code"),c(h,"type","text"),c(h,"name","column-type"),h.value=o[10]["column-type"],c(h,"onchange","restrictDatalist(this)"),c(h,"list","column-types"),c(h,"placeholder","Column type"),h.disabled=!0,c(P,"type","text"),c(P,"name","column-name"),P.value=o[10]["column-name"],c(P,"placeholder","Column name"),c(b,"type","hidden"),c(b,"name","sort-order"),b.value=o[10]["sort-order"],c(I,"type","button"),c(A,"type","button"),c(A,"onclick","updateColumn()"),c(t,"lr-if","columnEditIndex == $index")},m(z,k){M(z,t,k),e(t,n),e(t,u),e(t,p),e(p,d),e(t,_),e(t,v),e(v,E),e(t,O),e(t,m),e(m,h),e(t,w),e(t,g),e(g,P),e(t,N),e(t,q),e(q,b),e(q,S),e(q,H),e(H,L),e(t,B),e(t,j),e(j,I),e(j,T),e(j,A),e(t,l),f||(i=V(I,"click",o[9]),f=!0)},p:Q,d(z){z&&s(t),f=!1,i()}}}function ft(o){let t,n,u,p=o[10]["display-name"]+"",d,_,v,E=o[10]["column-code"]+"",O,m,h,w=o[10]["column-type"]+"",g,P,N,q=o[10]["column-name"]+"",b,S,H,U=o[10]["sort-order"]+"",L,B,j;function I(f,i){return f[12]<=6?_t:mt}let T=I(o)(o);function A(f,i){return f[12]<=6?yt:vt}let l=A(o)(o);return{c(){t=a("tr"),T.c(),n=y(),u=a("td"),d=Y(p),_=y(),v=a("td"),O=Y(E),m=y(),h=a("td"),g=Y(w),P=y(),N=a("td"),b=Y(q),S=y(),H=a("td"),L=Y(U),B=y(),l.c(),j=y(),this.h()},l(f){t=r(f,"TR",{"lr-if":!0});var i=D(t);T.l(i),n=C(i),u=r(i,"TD",{});var z=D(u);d=F(z,p),z.forEach(s),_=C(i),v=r(i,"TD",{});var k=D(v);O=F(k,E),k.forEach(s),m=C(i),h=r(i,"TD",{});var G=D(h);g=F(G,w),G.forEach(s),P=C(i),N=r(i,"TD",{});var J=D(N);b=F(J,q),J.forEach(s),S=C(i),H=r(i,"TD",{});var K=D(H);L=F(K,U),K.forEach(s),B=C(i),l.l(i),j=C(i),i.forEach(s),this.h()},h(){c(t,"lr-if","columnEditIndex != $index")},m(f,i){M(f,t,i),T.m(t,null),e(t,n),e(t,u),e(u,d),e(t,_),e(t,v),e(v,O),e(t,m),e(t,h),e(h,g),e(t,P),e(t,N),e(N,b),e(t,S),e(t,H),e(H,L),e(t,B),l.m(t,null),e(t,j)},p(f,i){l.p(f,i)},d(f){f&&s(t),T.d(),l.d()}}}function mt(o){let t,n='<input type="checkbox" name="select$index" placeholder="Select"/>';return{c(){t=a("td"),t.innerHTML=n},l(u){t=r(u,"TD",{"data-svelte-h":!0}),R(t)!=="svelte-18phl0z"&&(t.innerHTML=n)},m(u,p){M(u,t,p)},d(u){u&&s(t)}}}function _t(o){let t;return{c(){t=a("td")},l(n){t=r(n,"TD",{}),D(t).forEach(s)},m(n,u){M(n,t,u)},d(n){n&&s(t)}}}function vt(o){let t,n,u="Edit",p,d,_="Delete",v,E;function O(){return o[8](o[12])}return{c(){t=a("td"),n=a("button"),n.textContent=u,p=y(),d=a("button"),d.textContent=_,this.h()},l(m){t=r(m,"TD",{"lr-if":!0});var h=D(t);n=r(h,"BUTTON",{type:!0,"data-svelte-h":!0}),R(n)!=="svelte-1qnq4rp"&&(n.textContent=u),p=C(h),d=r(h,"BUTTON",{type:!0,"lr-click":!0,"data-svelte-h":!0}),R(d)!=="svelte-1nbq7qu"&&(d.textContent=_),h.forEach(s),this.h()},h(){c(n,"type","button"),c(d,"type","button"),c(d,"lr-click","deleteColumn($index)"),c(t,"lr-if","$index > 6")},m(m,h){M(m,t,h),e(t,n),e(t,p),e(t,d),v||(E=V(n,"click",O),v=!0)},p(m,h){o=m},d(m){m&&s(t),v=!1,E()}}}function yt(o){let t,n=" ";return{c(){t=a("td"),t.textContent=n,this.h()},l(u){t=r(u,"TD",{"lr-if":!0,"data-svelte-h":!0}),R(t)!=="svelte-8zvfss"&&(t.textContent=n),this.h()},h(){c(t,"lr-if","$index <= 6")},m(u,p){M(u,t,p)},p:Q,d(u){u&&s(t)}}}function rt(o){let t;function n(d,_){return d[0]!=d[12]?ft:ht}let u=n(o),p=u(o);return{c(){p.c(),t=lt()},l(d){p.l(d),t=lt()},m(d,_){p.m(d,_),M(d,t,_)},p(d,_){u===(u=n(d))&&p?p.p(d,_):(p.d(1),p=u(d),p&&(p.c(),p.m(t.parentNode,t)))},d(d){d&&s(t),p.d(d)}}}function Ct(o){let t,n="Admin / User columns",u,p,d="User fields",_,v,E="Add column",O,m,h,w='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',g,P,N,q,b,S,H="Text",U,L="Number Integer",B,j="Number Real",I,X,T=o[1]&&at(o),A=nt(o[2]),x=[];for(let l=0;l<A.length;l+=1)x[l]=rt(ot(o,A,l));return{c(){t=a("h1"),t.textContent=n,u=y(),p=a("h1"),p.textContent=d,_=y(),v=a("button"),v.textContent=E,O=y(),m=a("table"),h=a("thead"),h.innerHTML=w,g=y(),T&&T.c(),P=y(),N=a("tbody");for(let l=0;l<x.length;l+=1)x[l].c();q=y(),b=a("datalist"),S=a("option"),S.textContent=H,U=a("option"),U.textContent=L,B=a("option"),B.textContent=j,this.h()},l(l){t=r(l,"H1",{"data-svelte-h":!0}),R(t)!=="svelte-o3nl2"&&(t.textContent=n),u=C(l),p=r(l,"H1",{"data-svelte-h":!0}),R(p)!=="svelte-o0zdvi"&&(p.textContent=d),_=C(l),v=r(l,"BUTTON",{type:!0,"data-svelte-h":!0}),R(v)!=="svelte-18wryhz"&&(v.textContent=E),O=C(l),m=r(l,"TABLE",{id:!0});var f=D(m);h=r(f,"THEAD",{"data-svelte-h":!0}),R(h)!=="svelte-15hdz98"&&(h.innerHTML=w),g=C(f),T&&T.l(f),P=C(f),N=r(f,"TBODY",{id:!0});var i=D(N);for(let k=0;k<x.length;k+=1)x[k].l(i);i.forEach(s),f.forEach(s),q=C(l),b=r(l,"DATALIST",{id:!0});var z=D(b);S=r(z,"OPTION",{"data-svelte-h":!0}),R(S)!=="svelte-1mqqvia"&&(S.textContent=H),U=r(z,"OPTION",{"data-svelte-h":!0}),R(U)!=="svelte-1mkb7wl"&&(U.textContent=L),B=r(z,"OPTION",{"data-svelte-h":!0}),R(B)!=="svelte-10956bv"&&(B.textContent=j),z.forEach(s),this.h()},h(){c(v,"type","button"),c(N,"id","column-list-body"),c(m,"id","column-list-container"),S.__value="text",$(S,S.__value),U.__value="number-integer",$(U,U.__value),B.__value="number-real",$(B,B.__value),c(b,"id","column-types")},m(l,f){M(l,t,f),M(l,u,f),M(l,p,f),M(l,_,f),M(l,v,f),M(l,O,f),M(l,m,f),e(m,h),e(m,g),T&&T.m(m,null),e(m,P),e(m,N);for(let i=0;i<x.length;i+=1)x[i]&&x[i].m(N,null);M(l,q,f),M(l,b,f),e(b,S),e(b,U),e(b,B),I||(X=V(v,"click",o[7]),I=!0)},p(l,[f]){if(l[1]?T?T.p(l,f):(T=at(l),T.c(),T.m(m,P)):T&&(T.d(1),T=null),f&5){A=nt(l[2]);let i;for(i=0;i<A.length;i+=1){const z=ot(l,A,i);x[i]?x[i].p(z,f):(x[i]=rt(z),x[i].c(),x[i].m(N,null))}for(;i<x.length;i+=1)x[i].d(1);x.length=A.length}},i:Q,o:Q,d(l){l&&(s(t),s(u),s(p),s(_),s(v),s(O),s(m),s(q),s(b)),T&&T.d(),st(x,l),I=!1,X()}}}function Tt(o,t,n){let{data:u}=t;const{columns:p}=u;let d=-1,_=!1,v={"display-name":"","column-code":"","column-type":"","column-name":""};function E(){n(1,_=!1)}function O(){console.log(v),E()}const m=()=>{n(1,_=!0)},h=g=>{n(0,d=g)},w=()=>{n(0,d=-1)};return o.$$set=g=>{"data"in g&&n(6,u=g.data)},[d,_,p,v,E,O,u,m,h,w]}class Dt extends it{constructor(t){super(),ct(this,t,Tt,Ct,ut,{data:6})}}export{Dt as component,kt as universal};
