import{s as ut,n as Q,r as dt}from"../chunks/scheduler.e108d1fd.js";import{S as it,i as ct,g as a,s as y,h as r,y as R,c as C,j as D,f as s,k as c,z as $,a as M,x as e,A as V,B as st,e as lt,m as X,n as Y}from"../chunks/index.7e31c220.js";function nt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const pt=async({fetch:n})=>{let t={};const o=await n("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return o.ok&&(t=await o.json()),{columns:t}},Dt=Object.freeze(Object.defineProperty({__proto__:null,load:pt},Symbol.toStringTag,{value:"Module"}));function ot(n,t,o){const u=n.slice();return u[10]=t[o],u[12]=o,u}function at(n){let t,o,u=" ",p,d,_,v,N,O,m,h,S,P,g,E,H,b,B=" ",z,U,q,w="Cancel",j,I,J="Save",T,A;return{c(){t=a("tr"),o=a("td"),o.textContent=u,p=y(),d=a("td"),_=a("input"),v=y(),N=a("td"),O=a("input"),m=y(),h=a("td"),S=a("input"),P=y(),g=a("td"),E=a("input"),H=y(),b=a("td"),b.textContent=B,z=y(),U=a("td"),q=a("button"),q.textContent=w,j=y(),I=a("button"),I.textContent=J,this.h()},l(x){t=r(x,"TR",{id:!0});var l=D(t);o=r(l,"TD",{"data-svelte-h":!0}),R(o)!=="svelte-mcho4g"&&(o.textContent=u),p=C(l),d=r(l,"TD",{});var f=D(d);_=r(f,"INPUT",{type:!0,name:!0,placeholder:!0}),f.forEach(s),v=C(l),N=r(l,"TD",{});var i=D(N);O=r(i,"INPUT",{type:!0,name:!0,placeholder:!0}),i.forEach(s),m=C(l),h=r(l,"TD",{});var L=D(h);S=r(L,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),L.forEach(s),P=C(l),g=r(l,"TD",{});var k=D(g);E=r(k,"INPUT",{type:!0,name:!0,placeholder:!0}),k.forEach(s),H=C(l),b=r(l,"TD",{"data-svelte-h":!0}),R(b)!=="svelte-mcho4g"&&(b.textContent=B),z=C(l),U=r(l,"TD",{});var G=D(U);q=r(G,"BUTTON",{type:!0,"data-svelte-h":!0}),R(q)!=="svelte-n5c03x"&&(q.textContent=w),j=C(G),I=r(G,"BUTTON",{type:!0,"data-svelte-h":!0}),R(I)!=="svelte-784wce"&&(I.textContent=J),G.forEach(s),l.forEach(s),this.h()},h(){c(_,"type","text"),c(_,"name","display-name"),_.value=n[3]["display-name"],c(_,"placeholder","Display name"),c(O,"type","text"),c(O,"name","column-code"),O.value=n[3]["column-code"],c(O,"placeholder","Column code"),c(S,"type","text"),c(S,"name","column-type"),S.value=n[3]["column-type"],c(S,"onchange","restrictDatalist(this)"),c(S,"list","column-types"),c(S,"placeholder","Column type"),c(E,"type","text"),c(E,"name","column-name"),E.value=n[3]["column-name"],c(E,"placeholder","Column name"),c(q,"type","button"),c(I,"type","button"),c(t,"id","add-column")},m(x,l){M(x,t,l),e(t,o),e(t,p),e(t,d),e(d,_),e(t,v),e(t,N),e(N,O),e(t,m),e(t,h),e(h,S),e(t,P),e(t,g),e(g,E),e(t,H),e(t,b),e(t,z),e(t,U),e(U,q),e(U,j),e(U,I),T||(A=[V(q,"click",n[6]),V(I,"click",n[7])],T=!0)},p:Q,d(x){x&&s(t),T=!1,dt(A)}}}function ht(n){let t,o,u,p,d,_,v,N,O,m,h,S,P,g,E,H,b,B,z,U=n[10]["sort-order"]+"",q,w,j,I,J="Cancel",T,A,x="Save",l,f,i;return{c(){t=a("tr"),o=a("td"),u=y(),p=a("td"),d=a("input"),_=y(),v=a("td"),N=a("input"),O=y(),m=a("td"),h=a("input"),S=y(),P=a("td"),g=a("input"),E=y(),H=a("td"),b=a("input"),B=y(),z=a("span"),q=X(U),w=y(),j=a("td"),I=a("button"),I.textContent=J,T=y(),A=a("button"),A.textContent=x,l=y(),this.h()},l(L){t=r(L,"TR",{"lr-if":!0});var k=D(t);o=r(k,"TD",{}),D(o).forEach(s),u=C(k),p=r(k,"TD",{});var G=D(p);d=r(G,"INPUT",{type:!0,name:!0,placeholder:!0}),G.forEach(s),_=C(k),v=r(k,"TD",{});var F=D(v);N=r(F,"INPUT",{type:!0,name:!0,placeholder:!0}),F.forEach(s),O=C(k),m=r(k,"TD",{});var K=D(m);h=r(K,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),K.forEach(s),S=C(k),P=r(k,"TD",{});var tt=D(P);g=r(tt,"INPUT",{type:!0,name:!0,placeholder:!0}),tt.forEach(s),E=C(k),H=r(k,"TD",{});var W=D(H);b=r(W,"INPUT",{type:!0,name:!0}),B=C(W),z=r(W,"SPAN",{});var et=D(z);q=Y(et,U),et.forEach(s),W.forEach(s),w=C(k),j=r(k,"TD",{});var Z=D(j);I=r(Z,"BUTTON",{type:!0,"data-svelte-h":!0}),R(I)!=="svelte-qr4i42"&&(I.textContent=J),T=C(Z),A=r(Z,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),R(A)!=="svelte-12kwy68"&&(A.textContent=x),Z.forEach(s),l=C(k),k.forEach(s),this.h()},h(){c(d,"type","text"),c(d,"name","display-name"),d.value=n[10]["display-name"],c(d,"placeholder","Display name"),c(N,"type","text"),c(N,"name","column-code"),N.value=n[10]["column-code"],c(N,"placeholder","Column code"),c(h,"type","text"),c(h,"name","column-type"),h.value=n[10]["column-type"],c(h,"onchange","restrictDatalist(this)"),c(h,"list","column-types"),c(h,"placeholder","Column type"),h.disabled=!0,c(g,"type","text"),c(g,"name","column-name"),g.value=n[10]["column-name"],c(g,"placeholder","Column name"),c(b,"type","hidden"),c(b,"name","sort-order"),b.value=n[10]["sort-order"],c(I,"type","button"),c(A,"type","button"),c(A,"onclick","updateColumn()"),c(t,"lr-if","columnEditIndex == $index")},m(L,k){M(L,t,k),e(t,o),e(t,u),e(t,p),e(p,d),e(t,_),e(t,v),e(v,N),e(t,O),e(t,m),e(m,h),e(t,S),e(t,P),e(P,g),e(t,E),e(t,H),e(H,b),e(H,B),e(H,z),e(z,q),e(t,w),e(t,j),e(j,I),e(j,T),e(j,A),e(t,l),f||(i=V(I,"click",n[9]),f=!0)},p:Q,d(L){L&&s(t),f=!1,i()}}}function ft(n){let t,o,u,p=n[10]["display-name"]+"",d,_,v,N=n[10]["column-code"]+"",O,m,h,S=n[10]["column-type"]+"",P,g,E,H=n[10]["column-name"]+"",b,B,z,U=n[10]["sort-order"]+"",q,w,j;function I(f,i){return f[12]<=6?_t:mt}let T=I(n)(n);function A(f,i){return f[12]<=6?yt:vt}let l=A(n)(n);return{c(){t=a("tr"),T.c(),o=y(),u=a("td"),d=X(p),_=y(),v=a("td"),O=X(N),m=y(),h=a("td"),P=X(S),g=y(),E=a("td"),b=X(H),B=y(),z=a("td"),q=X(U),w=y(),l.c(),j=y(),this.h()},l(f){t=r(f,"TR",{"lr-if":!0});var i=D(t);T.l(i),o=C(i),u=r(i,"TD",{});var L=D(u);d=Y(L,p),L.forEach(s),_=C(i),v=r(i,"TD",{});var k=D(v);O=Y(k,N),k.forEach(s),m=C(i),h=r(i,"TD",{});var G=D(h);P=Y(G,S),G.forEach(s),g=C(i),E=r(i,"TD",{});var F=D(E);b=Y(F,H),F.forEach(s),B=C(i),z=r(i,"TD",{});var K=D(z);q=Y(K,U),K.forEach(s),w=C(i),l.l(i),j=C(i),i.forEach(s),this.h()},h(){c(t,"lr-if","columnEditIndex != $index")},m(f,i){M(f,t,i),T.m(t,null),e(t,o),e(t,u),e(u,d),e(t,_),e(t,v),e(v,O),e(t,m),e(t,h),e(h,P),e(t,g),e(t,E),e(E,b),e(t,B),e(t,z),e(z,q),e(t,w),l.m(t,null),e(t,j)},p(f,i){l.p(f,i)},d(f){f&&s(t),T.d(),l.d()}}}function mt(n){let t,o='<input type="checkbox" name="select$index" placeholder="Select"/>';return{c(){t=a("td"),t.innerHTML=o},l(u){t=r(u,"TD",{"data-svelte-h":!0}),R(t)!=="svelte-18phl0z"&&(t.innerHTML=o)},m(u,p){M(u,t,p)},d(u){u&&s(t)}}}function _t(n){let t;return{c(){t=a("td")},l(o){t=r(o,"TD",{}),D(t).forEach(s)},m(o,u){M(o,t,u)},d(o){o&&s(t)}}}function vt(n){let t,o,u="Edit",p,d,_="Delete",v,N;function O(){return n[8](n[12])}return{c(){t=a("td"),o=a("button"),o.textContent=u,p=y(),d=a("button"),d.textContent=_,this.h()},l(m){t=r(m,"TD",{"lr-if":!0});var h=D(t);o=r(h,"BUTTON",{type:!0,"data-svelte-h":!0}),R(o)!=="svelte-1qnq4rp"&&(o.textContent=u),p=C(h),d=r(h,"BUTTON",{type:!0,"lr-click":!0,"data-svelte-h":!0}),R(d)!=="svelte-1nbq7qu"&&(d.textContent=_),h.forEach(s),this.h()},h(){c(o,"type","button"),c(d,"type","button"),c(d,"lr-click","deleteColumn($index)"),c(t,"lr-if","$index > 6")},m(m,h){M(m,t,h),e(t,o),e(t,p),e(t,d),v||(N=V(o,"click",O),v=!0)},p(m,h){n=m},d(m){m&&s(t),v=!1,N()}}}function yt(n){let t,o=" ";return{c(){t=a("td"),t.textContent=o,this.h()},l(u){t=r(u,"TD",{"lr-if":!0,"data-svelte-h":!0}),R(t)!=="svelte-8zvfss"&&(t.textContent=o),this.h()},h(){c(t,"lr-if","$index <= 6")},m(u,p){M(u,t,p)},p:Q,d(u){u&&s(t)}}}function rt(n){let t;function o(d,_){return d[0]!=d[12]?ft:ht}let u=o(n),p=u(n);return{c(){p.c(),t=lt()},l(d){p.l(d),t=lt()},m(d,_){p.m(d,_),M(d,t,_)},p(d,_){u===(u=o(d))&&p?p.p(d,_):(p.d(1),p=u(d),p&&(p.c(),p.m(t.parentNode,t)))},d(d){d&&s(t),p.d(d)}}}function Ct(n){let t,o="Admin / User columns",u,p,d="User fields",_,v,N="Add column",O,m,h,S='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',P,g,E,H,b,B,z="Text",U,q="Number Integer",w,j="Number Real",I,J,T=n[1]&&at(n),A=nt(n[2]),x=[];for(let l=0;l<A.length;l+=1)x[l]=rt(ot(n,A,l));return{c(){t=a("h1"),t.textContent=o,u=y(),p=a("h1"),p.textContent=d,_=y(),v=a("button"),v.textContent=N,O=y(),m=a("table"),h=a("thead"),h.innerHTML=S,P=y(),T&&T.c(),g=y(),E=a("tbody");for(let l=0;l<x.length;l+=1)x[l].c();H=y(),b=a("datalist"),B=a("option"),B.textContent=z,U=a("option"),U.textContent=q,w=a("option"),w.textContent=j,this.h()},l(l){t=r(l,"H1",{"data-svelte-h":!0}),R(t)!=="svelte-o3nl2"&&(t.textContent=o),u=C(l),p=r(l,"H1",{"data-svelte-h":!0}),R(p)!=="svelte-o0zdvi"&&(p.textContent=d),_=C(l),v=r(l,"BUTTON",{type:!0,"data-svelte-h":!0}),R(v)!=="svelte-18wryhz"&&(v.textContent=N),O=C(l),m=r(l,"TABLE",{id:!0});var f=D(m);h=r(f,"THEAD",{"data-svelte-h":!0}),R(h)!=="svelte-15hdz98"&&(h.innerHTML=S),P=C(f),T&&T.l(f),g=C(f),E=r(f,"TBODY",{id:!0});var i=D(E);for(let k=0;k<x.length;k+=1)x[k].l(i);i.forEach(s),f.forEach(s),H=C(l),b=r(l,"DATALIST",{id:!0});var L=D(b);B=r(L,"OPTION",{"data-svelte-h":!0}),R(B)!=="svelte-1mqqvia"&&(B.textContent=z),U=r(L,"OPTION",{"data-svelte-h":!0}),R(U)!=="svelte-1mkb7wl"&&(U.textContent=q),w=r(L,"OPTION",{"data-svelte-h":!0}),R(w)!=="svelte-10956bv"&&(w.textContent=j),L.forEach(s),this.h()},h(){c(v,"type","button"),c(E,"id","column-list-body"),c(m,"id","column-list-container"),B.__value="text",$(B,B.__value),U.__value="number-integer",$(U,U.__value),w.__value="number-real",$(w,w.__value),c(b,"id","column-types")},m(l,f){M(l,t,f),M(l,u,f),M(l,p,f),M(l,_,f),M(l,v,f),M(l,O,f),M(l,m,f),e(m,h),e(m,P),T&&T.m(m,null),e(m,g),e(m,E);for(let i=0;i<x.length;i+=1)x[i]&&x[i].m(E,null);M(l,H,f),M(l,b,f),e(b,B),e(b,U),e(b,w),I||(J=V(v,"click",n[5]),I=!0)},p(l,[f]){if(l[1]?T?T.p(l,f):(T=at(l),T.c(),T.m(m,g)):T&&(T.d(1),T=null),f&5){A=nt(l[2]);let i;for(i=0;i<A.length;i+=1){const L=ot(l,A,i);x[i]?x[i].p(L,f):(x[i]=rt(L),x[i].c(),x[i].m(E,null))}for(;i<x.length;i+=1)x[i].d(1);x.length=A.length}},i:Q,o:Q,d(l){l&&(s(t),s(u),s(p),s(_),s(v),s(O),s(m),s(H),s(b)),T&&T.d(),st(x,l),I=!1,J()}}}function Tt(n){alert(`Hello ${n}!`)}function bt(n,t,o){let{data:u}=t;const{columns:p}=u;let d=-1,_=!1,v={"display-name":"","display-code":"","column-type":"","column-name":""};const N=()=>{o(1,_=!0)},O=()=>{o(1,_=!1)},m=()=>Tt("Jane"),h=P=>{o(0,d=P)},S=()=>{o(0,d=-1)};return n.$$set=P=>{"data"in P&&o(4,u=P.data)},[d,_,p,v,u,N,O,m,h,S]}class Et extends it{constructor(t){super(),ct(this,t,bt,Ct,ut,{data:4})}}export{Et as component,Dt as universal};
