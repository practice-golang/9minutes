import{s as Nt,n as vt,r as gt}from"../chunks/scheduler.e108d1fd.js";import{S as Ht,i as Ot,g as l,s as i,h as n,y,c,j as D,f as s,k as d,z as ft,a as Q,x as t,A as ht,B as Lt,e as xt,m as ut,n as st}from"../chunks/index.7e31c220.js";function bt(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}const Ut=async({fetch:o})=>{let e={};const p=await o("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return p.ok&&(e=await p.json()),{columns:e}},jt=Object.freeze(Object.defineProperty({__proto__:null,load:Ut},Symbol.toStringTag,{value:"Module"}));function Dt(o,e,p){const _=o.slice();return _[7]=e[p],_[9]=p,_}function It(o){let e,p,_=" ",m,r,C,k,j,x,T,I,O,w,v,g,W,L,M,Z,R,S=o[7]["sort-order"]+"",et,V,H,E,lt="Cancel",z,b,A="Save",$,tt,B;return{c(){e=l("tr"),p=l("td"),p.textContent=_,m=i(),r=l("td"),C=l("input"),k=i(),j=l("td"),x=l("input"),T=i(),I=l("td"),O=l("input"),w=i(),v=l("td"),g=l("input"),W=i(),L=l("td"),M=l("input"),Z=i(),R=l("span"),et=ut(S),V=i(),H=l("td"),E=l("button"),E.textContent=lt,z=i(),b=l("button"),b.textContent=A,$=i(),this.h()},l(P){e=n(P,"TR",{"lr-if":!0});var h=D(e);p=n(h,"TD",{"data-svelte-h":!0}),y(p)!=="svelte-mcho4g"&&(p.textContent=_),m=c(h),r=n(h,"TD",{});var nt=D(r);C=n(nt,"INPUT",{type:!0,name:!0,placeholder:!0}),nt.forEach(s),k=c(h),j=n(h,"TD",{});var ot=D(j);x=n(ot,"INPUT",{type:!0,name:!0,placeholder:!0}),ot.forEach(s),T=c(h),I=n(h,"TD",{});var J=D(I);O=n(J,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),J.forEach(s),w=c(h),v=n(h,"TD",{});var G=D(v);g=n(G,"INPUT",{type:!0,name:!0,placeholder:!0}),G.forEach(s),W=c(h),L=n(h,"TD",{});var f=D(L);M=n(f,"INPUT",{type:!0,name:!0}),Z=c(f),R=n(f,"SPAN",{});var X=D(R);et=st(X,S),X.forEach(s),f.forEach(s),V=c(h),H=n(h,"TD",{});var Y=D(H);E=n(Y,"BUTTON",{type:!0,"data-svelte-h":!0}),y(E)!=="svelte-qr4i42"&&(E.textContent=lt),z=c(Y),b=n(Y,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),y(b)!=="svelte-12kwy68"&&(b.textContent=A),Y.forEach(s),$=c(h),h.forEach(s),this.h()},h(){d(C,"type","text"),d(C,"name","display-name"),C.value=o[7]["display-name"],d(C,"placeholder","Display name"),d(x,"type","text"),d(x,"name","column-code"),x.value=o[7]["column-code"],d(x,"placeholder","Column code"),d(O,"type","text"),d(O,"name","column-type"),O.value=o[7]["column-type"],d(O,"onchange","restrictDatalist(this)"),d(O,"list","column-types"),d(O,"placeholder","Column type"),O.disabled=!0,d(g,"type","text"),d(g,"name","column-name"),g.value=o[7]["column-name"],d(g,"placeholder","Column name"),d(M,"type","hidden"),d(M,"name","sort-order"),M.value=o[7]["sort-order"],d(E,"type","button"),d(b,"type","button"),d(b,"onclick","updateColumn()"),d(e,"lr-if","columnEditIndex == $index")},m(P,h){Q(P,e,h),t(e,p),t(e,m),t(e,r),t(r,C),t(e,k),t(e,j),t(j,x),t(e,T),t(e,I),t(I,O),t(e,w),t(e,v),t(v,g),t(e,W),t(e,L),t(L,M),t(L,Z),t(L,R),t(R,et),t(e,V),t(e,H),t(H,E),t(H,z),t(H,b),t(e,$),tt||(B=ht(E,"click",o[6]),tt=!0)},p:vt,d(P){P&&s(e),tt=!1,B()}}}function Mt(o){let e,p,_='<input type="checkbox" name="select$index" placeholder="Select"/>',m,r,C=o[7]["display-name"]+"",k,j,x,T=o[7]["column-code"]+"",I,O,w,v=o[7]["column-type"]+"",g,W,L,M=o[7]["column-name"]+"",Z,R,S,et=o[7]["sort-order"]+"",V,H,E,lt=" ",z,b,A,$="Edit",tt,B,P="Delete",h,nt,ot;function J(){return o[5](o[9])}return{c(){e=l("tr"),p=l("td"),p.innerHTML=_,m=i(),r=l("td"),k=ut(C),j=i(),x=l("td"),I=ut(T),O=i(),w=l("td"),g=ut(v),W=i(),L=l("td"),Z=ut(M),R=i(),S=l("td"),V=ut(et),H=i(),E=l("td"),E.textContent=lt,z=i(),b=l("td"),A=l("button"),A.textContent=$,tt=i(),B=l("button"),B.textContent=P,h=i(),this.h()},l(G){e=n(G,"TR",{"lr-if":!0});var f=D(e);p=n(f,"TD",{"data-svelte-h":!0}),y(p)!=="svelte-1er8i0j"&&(p.innerHTML=_),m=c(f),r=n(f,"TD",{});var X=D(r);k=st(X,C),X.forEach(s),j=c(f),x=n(f,"TD",{});var Y=D(x);I=st(Y,T),Y.forEach(s),O=c(f),w=n(f,"TD",{});var F=D(w);g=st(F,v),F.forEach(s),W=c(f),L=n(f,"TD",{});var K=D(L);Z=st(K,M),K.forEach(s),R=c(f),S=n(f,"TD",{});var it=D(S);V=st(it,et),it.forEach(s),H=c(f),E=n(f,"TD",{"lr-if":!0,"data-svelte-h":!0}),y(E)!=="svelte-8zvfss"&&(E.textContent=lt),z=c(f),b=n(f,"TD",{"lr-if":!0});var q=D(b);A=n(q,"BUTTON",{type:!0,"data-svelte-h":!0}),y(A)!=="svelte-1chss2t"&&(A.textContent=$),tt=c(q),B=n(q,"BUTTON",{type:!0,"lr-click":!0,"data-svelte-h":!0}),y(B)!=="svelte-ng66l6"&&(B.textContent=P),q.forEach(s),h=c(f),f.forEach(s),this.h()},h(){d(E,"lr-if","$index <= 6"),d(A,"type","button"),d(B,"type","button"),d(B,"lr-click","deleteColumn($index)"),d(b,"lr-if","$index > 6"),d(e,"lr-if","columnEditIndex != $index")},m(G,f){Q(G,e,f),t(e,p),t(e,m),t(e,r),t(r,k),t(e,j),t(e,x),t(x,I),t(e,O),t(e,w),t(w,g),t(e,W),t(e,L),t(L,Z),t(e,R),t(e,S),t(S,V),t(e,H),t(e,E),t(e,z),t(e,b),t(b,A),t(b,tt),t(b,B),t(e,h),nt||(ot=ht(A,"click",J),nt=!0)},p(G,f){o=G},d(G){G&&s(e),nt=!1,ot()}}}function kt(o){let e;function p(r,C){return r[0]!=r[9]?Mt:It}let _=p(o),m=_(o);return{c(){m.c(),e=xt()},l(r){m.l(r),e=xt()},m(r,C){m.m(r,C),Q(r,e,C)},p(r,C){_===(_=p(r))&&m?m.p(r,C):(m.d(1),m=_(r),m&&(m.c(),m.m(e.parentNode,e)))},d(r){r&&s(e),m.d(r)}}}function Pt(o){let e,p="Admin / User columns",_,m,r="User fields",C,k,j="Add column",x,T,I,O='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',w,v,g,W=" ",L,M,Z='<input type="text" name="display-name" value="" placeholder="Display name"/>',R,S,et='<input type="text" name="column-code" value="" placeholder="Column code"/>',V,H,E='<input type="text" name="column-type" value="" onchange="restrictDatalist(this)" list="column-types" placeholder="Column type"/>',lt,z,b='<input type="text" name="column-name" value="" placeholder="Column name"/>',A,$,tt=" ",B,P,h,nt="Cancel",ot,J,G="Save",f,X,Y,F,K,it="Text",q,_t="Number Integer",at,Ct="Number Real",pt,Tt,rt=bt(o[1]),U=[];for(let a=0;a<rt.length;a+=1)U[a]=kt(Dt(o,rt,a));return{c(){e=l("h1"),e.textContent=p,_=i(),m=l("h1"),m.textContent=r,C=i(),k=l("button"),k.textContent=j,x=i(),T=l("table"),I=l("thead"),I.innerHTML=O,w=i(),v=l("tr"),g=l("td"),g.textContent=W,L=i(),M=l("td"),M.innerHTML=Z,R=i(),S=l("td"),S.innerHTML=et,V=i(),H=l("td"),H.innerHTML=E,lt=i(),z=l("td"),z.innerHTML=b,A=i(),$=l("td"),$.textContent=tt,B=i(),P=l("td"),h=l("button"),h.textContent=nt,ot=i(),J=l("button"),J.textContent=G,f=i(),X=l("tbody");for(let a=0;a<U.length;a+=1)U[a].c();Y=i(),F=l("datalist"),K=l("option"),K.textContent=it,q=l("option"),q.textContent=_t,at=l("option"),at.textContent=Ct,this.h()},l(a){e=n(a,"H1",{"data-svelte-h":!0}),y(e)!=="svelte-o3nl2"&&(e.textContent=p),_=c(a),m=n(a,"H1",{"data-svelte-h":!0}),y(m)!=="svelte-o0zdvi"&&(m.textContent=r),C=c(a),k=n(a,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),y(k)!=="svelte-1vn03ee"&&(k.textContent=j),x=c(a),T=n(a,"TABLE",{id:!0});var N=D(T);I=n(N,"THEAD",{"data-svelte-h":!0}),y(I)!=="svelte-15hdz98"&&(I.innerHTML=O),w=c(N),v=n(N,"TR",{id:!0});var u=D(v);g=n(u,"TD",{"data-svelte-h":!0}),y(g)!=="svelte-mcho4g"&&(g.textContent=W),L=c(u),M=n(u,"TD",{"data-svelte-h":!0}),y(M)!=="svelte-ikkjvy"&&(M.innerHTML=Z),R=c(u),S=n(u,"TD",{"data-svelte-h":!0}),y(S)!=="svelte-1v1ln7m"&&(S.innerHTML=et),V=c(u),H=n(u,"TD",{"data-svelte-h":!0}),y(H)!=="svelte-jhmlmg"&&(H.innerHTML=E),lt=c(u),z=n(u,"TD",{"data-svelte-h":!0}),y(z)!=="svelte-13gzsei"&&(z.innerHTML=b),A=c(u),$=n(u,"TD",{"data-svelte-h":!0}),y($)!=="svelte-mcho4g"&&($.textContent=tt),B=c(u),P=n(u,"TD",{});var dt=D(P);h=n(dt,"BUTTON",{type:!0,"data-svelte-h":!0}),y(h)!=="svelte-1bq1eh0"&&(h.textContent=nt),ot=c(dt),J=n(dt,"BUTTON",{type:!0,"data-svelte-h":!0}),y(J)!=="svelte-19ca7k8"&&(J.textContent=G),dt.forEach(s),u.forEach(s),f=c(N),X=n(N,"TBODY",{id:!0});var yt=D(X);for(let mt=0;mt<U.length;mt+=1)U[mt].l(yt);yt.forEach(s),N.forEach(s),Y=c(a),F=n(a,"DATALIST",{id:!0});var ct=D(F);K=n(ct,"OPTION",{"data-svelte-h":!0}),y(K)!=="svelte-1mqqvia"&&(K.textContent=it),q=n(ct,"OPTION",{"data-svelte-h":!0}),y(q)!=="svelte-1mkb7wl"&&(q.textContent=_t),at=n(ct,"OPTION",{"data-svelte-h":!0}),y(at)!=="svelte-10956bv"&&(at.textContent=Ct),ct.forEach(s),this.h()},h(){d(k,"type","button"),d(k,"onclick","openAdd()"),d(h,"type","button"),d(J,"type","button"),d(v,"id","add-column"),d(X,"id","column-list-body"),d(T,"id","column-list-container"),K.__value="text",ft(K,K.__value),q.__value="number-integer",ft(q,q.__value),at.__value="number-real",ft(at,at.__value),d(F,"id","column-types")},m(a,N){Q(a,e,N),Q(a,_,N),Q(a,m,N),Q(a,C,N),Q(a,k,N),Q(a,x,N),Q(a,T,N),t(T,I),t(T,w),t(T,v),t(v,g),t(v,L),t(v,M),t(v,R),t(v,S),t(v,V),t(v,H),t(v,lt),t(v,z),t(v,A),t(v,$),t(v,B),t(v,P),t(P,h),t(P,ot),t(P,J),t(T,f),t(T,X);for(let u=0;u<U.length;u+=1)U[u]&&U[u].m(X,null);Q(a,Y,N),Q(a,F,N),t(F,K),t(F,q),t(F,at),pt||(Tt=[ht(h,"click",o[3]),ht(J,"click",o[4])],pt=!0)},p(a,[N]){if(N&3){rt=bt(a[1]);let u;for(u=0;u<rt.length;u+=1){const dt=Dt(a,rt,u);U[u]?U[u].p(dt,N):(U[u]=kt(dt),U[u].c(),U[u].m(X,null))}for(;u<U.length;u+=1)U[u].d(1);U.length=rt.length}},i:vt,o:vt,d(a){a&&(s(e),s(_),s(m),s(C),s(k),s(x),s(T),s(Y),s(F)),Lt(U,a),pt=!1,gt(Tt)}}}function Et(o){alert(`Hello ${o}!`)}function St(o,e,p){let{data:_}=e;const{columns:m}=_;let r=-1;const C=()=>Et("John"),k=()=>Et("Jane"),j=T=>{p(0,r=T)},x=()=>{p(0,r=-1)};return o.$$set=T=>{"data"in T&&p(2,_=T.data)},[r,m,_,C,k,j,x]}class zt extends Ht{constructor(e){super(),Ot(this,e,St,Pt,Nt,{data:2})}}export{zt as component,jt as universal};
