import{s as we,n as Ae,r as ze}from"../chunks/scheduler.e108d1fd.js";import{S as qe,i as Be,g as e,s as o,m as X,h as l,y as p,c as u,j as m,f as r,n as Z,k as a,z as ae,a as P,x as t,A as je,o as Mt}from"../chunks/index.c5af3f48.js";const Re=async({fetch:i})=>{let _={};const g=await i("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return g.ok&&(_=await g.json()),{columns:_}},Ke=Object.freeze(Object.defineProperty({__proto__:null,load:Re},Symbol.toStringTag,{value:"Module"}));function Je(i){let _,g="Admin / User columns",b,D,Tt="User fields",q,C,oe="Add column",Ct,x,B,ue='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',It,c,R,re=" ",Pt,J,de='<input type="text" name="display-name" value="" placeholder="Display name"/>',St,G,ie='<input type="text" name="column-code" value="" placeholder="Column code"/>',Ut,Y,se='<input type="text" name="column-type" value="" onchange="restrictDatalist(this)" list="column-types" placeholder="Column type"/>',gt,F,pe='<input type="text" name="column-name" value="" placeholder="Column name"/>',At,K,ce=" ",jt,A,S,ve="Cancel",$t,U,me="Save",wt,E,s,Q,he='<input type="checkbox" name="select$index" placeholder="Select"/>',zt,tt,_e=i[1]["display-name"]+"",qt,Bt,et,fe=i[1]["column-code"]+"",Rt,Jt,lt,nt=i[0].columnType+"",yt,Gt,at,ot=i[0].columnName+"",xt,Yt,ut,rt=i[0].sortOrder+"",bt,Ft,j,Te=" ",Kt,$,Ce='<button type="button" lr-click="openEdit($index)">Edit</button> <button type="button" lr-click="deleteColumn($index)">Delete</button>',Qt,v,V,ye=" ",Vt,dt,H,it,Wt,st,N,pt,Xt,ct,y,vt,Zt,mt,L,ht,te,w,z,Dt,ee,_t,ft=i[0].sortOrder+"",Et,le,W,xe='<button type="button" onclick="closeEdit()">Cancel</button> <button type="button" onclick="updateColumn()">Save</button>',Ht,O,k,be="Text",M,De="Number Integer",I,Ee="Number Real",ne,He;return{c(){_=e("h1"),_.textContent=g,b=o(),D=e("h1"),D.textContent=Tt,q=o(),C=e("button"),C.textContent=oe,Ct=o(),x=e("table"),B=e("thead"),B.innerHTML=ue,It=o(),c=e("tr"),R=e("td"),R.textContent=re,Pt=o(),J=e("td"),J.innerHTML=de,St=o(),G=e("td"),G.innerHTML=ie,Ut=o(),Y=e("td"),Y.innerHTML=se,gt=o(),F=e("td"),F.innerHTML=pe,At=o(),K=e("td"),K.textContent=ce,jt=o(),A=e("td"),S=e("button"),S.textContent=ve,$t=o(),U=e("button"),U.textContent=me,wt=o(),E=e("tbody"),s=e("tr"),Q=e("td"),Q.innerHTML=he,zt=o(),tt=e("td"),qt=X(_e),Bt=o(),et=e("td"),Rt=X(fe),Jt=o(),lt=e("td"),yt=X(nt),Gt=o(),at=e("td"),xt=X(ot),Yt=o(),ut=e("td"),bt=X(rt),Ft=o(),j=e("td"),j.textContent=Te,Kt=o(),$=e("td"),$.innerHTML=Ce,Qt=o(),v=e("tr"),V=e("td"),V.textContent=ye,Vt=o(),dt=e("td"),H=e("input"),Wt=o(),st=e("td"),N=e("input"),Xt=o(),ct=e("td"),y=e("input"),Zt=o(),mt=e("td"),L=e("input"),te=o(),w=e("td"),z=e("input"),ee=o(),_t=e("span"),Et=X(ft),le=o(),W=e("td"),W.innerHTML=xe,Ht=o(),O=e("datalist"),k=e("option"),k.textContent=be,M=e("option"),M.textContent=De,I=e("option"),I.textContent=Ee,this.h()},l(n){_=l(n,"H1",{"data-svelte-h":!0}),p(_)!=="svelte-o3nl2"&&(_.textContent=g),b=u(n),D=l(n,"H1",{"data-svelte-h":!0}),p(D)!=="svelte-o0zdvi"&&(D.textContent=Tt),q=u(n),C=l(n,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),p(C)!=="svelte-1vn03ee"&&(C.textContent=oe),Ct=u(n),x=l(n,"TABLE",{id:!0});var d=m(x);B=l(d,"THEAD",{"data-svelte-h":!0}),p(B)!=="svelte-15hdz98"&&(B.innerHTML=ue),It=u(d),c=l(d,"TR",{id:!0});var f=m(c);R=l(f,"TD",{"data-svelte-h":!0}),p(R)!=="svelte-mcho4g"&&(R.textContent=re),Pt=u(f),J=l(f,"TD",{"data-svelte-h":!0}),p(J)!=="svelte-ikkjvy"&&(J.innerHTML=de),St=u(f),G=l(f,"TD",{"data-svelte-h":!0}),p(G)!=="svelte-1v1ln7m"&&(G.innerHTML=ie),Ut=u(f),Y=l(f,"TD",{"data-svelte-h":!0}),p(Y)!=="svelte-jhmlmg"&&(Y.innerHTML=se),gt=u(f),F=l(f,"TD",{"data-svelte-h":!0}),p(F)!=="svelte-13gzsei"&&(F.innerHTML=pe),At=u(f),K=l(f,"TD",{"data-svelte-h":!0}),p(K)!=="svelte-mcho4g"&&(K.textContent=ce),jt=u(f),A=l(f,"TD",{});var Nt=m(A);S=l(Nt,"BUTTON",{type:!0,"data-svelte-h":!0}),p(S)!=="svelte-1bq1eh0"&&(S.textContent=ve),$t=u(Nt),U=l(Nt,"BUTTON",{type:!0,"data-svelte-h":!0}),p(U)!=="svelte-19ca7k8"&&(U.textContent=me),Nt.forEach(r),f.forEach(r),wt=u(d),E=l(d,"TBODY",{id:!0,"lr-loop":!0});var Lt=m(E);s=l(Lt,"TR",{"lr-if":!0});var h=m(s);Q=l(h,"TD",{"data-svelte-h":!0}),p(Q)!=="svelte-2ov703"&&(Q.innerHTML=he),zt=u(h),tt=l(h,"TD",{});var Ne=m(tt);qt=Z(Ne,_e),Ne.forEach(r),Bt=u(h),et=l(h,"TD",{});var Le=m(et);Rt=Z(Le,fe),Le.forEach(r),Jt=u(h),lt=l(h,"TD",{});var Oe=m(lt);yt=Z(Oe,nt),Oe.forEach(r),Gt=u(h),at=l(h,"TD",{});var ke=m(at);xt=Z(ke,ot),ke.forEach(r),Yt=u(h),ut=l(h,"TD",{});var Me=m(ut);bt=Z(Me,rt),Me.forEach(r),Ft=u(h),j=l(h,"TD",{"lr-if":!0,"data-svelte-h":!0}),p(j)!=="svelte-8zvfss"&&(j.textContent=Te),Kt=u(h),$=l(h,"TD",{"lr-if":!0,"data-svelte-h":!0}),p($)!=="svelte-jow6q5"&&($.innerHTML=Ce),h.forEach(r),Qt=u(Lt),v=l(Lt,"TR",{"lr-if":!0});var T=m(v);V=l(T,"TD",{"data-svelte-h":!0}),p(V)!=="svelte-mcho4g"&&(V.textContent=ye),Vt=u(T),dt=l(T,"TD",{});var Ie=m(dt);H=l(Ie,"INPUT",{type:!0,name:!0,placeholder:!0}),Ie.forEach(r),Wt=u(T),st=l(T,"TD",{});var Pe=m(st);N=l(Pe,"INPUT",{type:!0,name:!0,placeholder:!0}),Pe.forEach(r),Xt=u(T),ct=l(T,"TD",{});var Se=m(ct);y=l(Se,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),Se.forEach(r),Zt=u(T),mt=l(T,"TD",{});var Ue=m(mt);L=l(Ue,"INPUT",{type:!0,name:!0,placeholder:!0}),Ue.forEach(r),te=u(T),w=l(T,"TD",{});var Ot=m(w);z=l(Ot,"INPUT",{type:!0,name:!0}),ee=u(Ot),_t=l(Ot,"SPAN",{});var ge=m(_t);Et=Z(ge,ft),ge.forEach(r),Ot.forEach(r),le=u(T),W=l(T,"TD",{"data-svelte-h":!0}),p(W)!=="svelte-1b4w1wo"&&(W.innerHTML=xe),T.forEach(r),Lt.forEach(r),d.forEach(r),Ht=u(n),O=l(n,"DATALIST",{id:!0});var kt=m(O);k=l(kt,"OPTION",{"data-svelte-h":!0}),p(k)!=="svelte-1mqqvia"&&(k.textContent=be),M=l(kt,"OPTION",{"data-svelte-h":!0}),p(M)!=="svelte-1mkb7wl"&&(M.textContent=De),I=l(kt,"OPTION",{"data-svelte-h":!0}),p(I)!=="svelte-10956bv"&&(I.textContent=Ee),kt.forEach(r),this.h()},h(){a(C,"type","button"),a(C,"onclick","openAdd()"),a(S,"type","button"),a(U,"type","button"),a(c,"id","add-column"),a(j,"lr-if","$index <= 6"),a($,"lr-if","$index > 6"),a(s,"lr-if","columnEditIndex != $index"),a(H,"type","text"),a(H,"name","display-name"),H.value=it=i[0].displayName,a(H,"placeholder","Display name"),a(N,"type","text"),a(N,"name","column-code"),N.value=pt=i[0].columnCode,a(N,"placeholder","Column code"),a(y,"type","text"),a(y,"name","column-type"),y.value=vt=i[0].columnType,a(y,"onchange","restrictDatalist(this)"),a(y,"list","column-types"),a(y,"placeholder","Column type"),y.disabled=!0,a(L,"type","text"),a(L,"name","column-name"),L.value=ht=i[0].columnName,a(L,"placeholder","Column name"),a(z,"type","hidden"),a(z,"name","sort-order"),z.value=Dt=i[0].sortOrder,a(v,"lr-if","columnEditIndex == $index"),a(E,"id","column-list-body"),a(E,"lr-loop","columnList"),a(x,"id","column-list-container"),k.__value="text",ae(k,k.__value),M.__value="number-integer",ae(M,M.__value),I.__value="number-real",ae(I,I.__value),a(O,"id","column-types")},m(n,d){P(n,_,d),P(n,b,d),P(n,D,d),P(n,q,d),P(n,C,d),P(n,Ct,d),P(n,x,d),t(x,B),t(x,It),t(x,c),t(c,R),t(c,Pt),t(c,J),t(c,St),t(c,G),t(c,Ut),t(c,Y),t(c,gt),t(c,F),t(c,At),t(c,K),t(c,jt),t(c,A),t(A,S),t(A,$t),t(A,U),t(x,wt),t(x,E),t(E,s),t(s,Q),t(s,zt),t(s,tt),t(tt,qt),t(s,Bt),t(s,et),t(et,Rt),t(s,Jt),t(s,lt),t(lt,yt),t(s,Gt),t(s,at),t(at,xt),t(s,Yt),t(s,ut),t(ut,bt),t(s,Ft),t(s,j),t(s,Kt),t(s,$),t(E,Qt),t(E,v),t(v,V),t(v,Vt),t(v,dt),t(dt,H),t(v,Wt),t(v,st),t(st,N),t(v,Xt),t(v,ct),t(ct,y),t(v,Zt),t(v,mt),t(mt,L),t(v,te),t(v,w),t(w,z),t(w,ee),t(w,_t),t(_t,Et),t(v,le),t(v,W),P(n,Ht,d),P(n,O,d),t(O,k),t(O,M),t(O,I),ne||(He=[je(S,"click",i[2]),je(U,"click",i[3])],ne=!0)},p(n,[d]){d&1&&nt!==(nt=n[0].columnType+"")&&Mt(yt,nt),d&1&&ot!==(ot=n[0].columnName+"")&&Mt(xt,ot),d&1&&rt!==(rt=n[0].sortOrder+"")&&Mt(bt,rt),d&1&&it!==(it=n[0].displayName)&&H.value!==it&&(H.value=it),d&1&&pt!==(pt=n[0].columnCode)&&N.value!==pt&&(N.value=pt),d&1&&vt!==(vt=n[0].columnType)&&y.value!==vt&&(y.value=vt),d&1&&ht!==(ht=n[0].columnName)&&L.value!==ht&&(L.value=ht),d&1&&Dt!==(Dt=n[0].sortOrder)&&(z.value=Dt),d&1&&ft!==(ft=n[0].sortOrder+"")&&Mt(Et,ft)},i:Ae,o:Ae,d(n){n&&(r(_),r(b),r(D),r(q),r(C),r(Ct),r(x),r(Ht),r(O)),ne=!1,ze(He)}}}function $e(i){alert(`Hello ${i}!`)}function Ge(i,_,g){let{data:b}=_;const{columns:D}=b,Tt=()=>$e("John"),q=()=>$e("Jane");return i.$$set=C=>{"data"in C&&g(0,b=C.data)},[b,D,Tt,q]}class Qe extends qe{constructor(_){super(),Be(this,_,Ge,Je,we,{data:0})}}export{Qe as component,Ke as universal};
