import{s as sl,n as ul}from"../chunks/scheduler.e108d1fd.js";import{S as pl,i as vl,g as l,s as i,m as z,h as a,y as u,c as d,j as s,n as Y,f as o,k as n,z as V,a as h,x as t,o as F}from"../chunks/index.7e31c220.js";const _l=async()=>{const p=await fetch("/api/admin/user",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(p.ok){const at=await p.json();console.log(at)}return{idx:"idx",userid:"userid",email:"email",grade:"grade",approval:"approval",link:"link",page:"page"}},Cl=Object.freeze(Object.defineProperty({__proto__:null,load:_l},Symbol.toStringTag,{value:"Module"}));function hl(p){let C,at="Admin / User list",J,y,De="Users list",Ut,D,ke="Add user",Ht,$,Pe="Search:",Mt,B,wt,k,Ne="Search",jt,g,nt,Ae='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Index</th> <th>Userid</th> <th>Password</th> <th>Email</th> <th>Grade</th> <th>Approval</th> <th>Control</th></tr>',ee,K,Ie='<td> </td> <td> </td> <td><input type="text" name="userid" value="" placeholder="Userid"/></td> <td><input type="password" name="password" value="" placeholder="Password"/></td> <td><input type="text" name="email" value="" placeholder="Email"/></td> <td><input type="text" name="grade" onchange="restrictDatalist(this)" list="grade-list" value="" placeholder="Grade"/></td> <td><input type="text" name="approval" onchange="restrictDatalist(this)" list="yn-list" value="" autocomplete="off" placeholder="Approval"/></td> <td><button type="button" onclick="closeAdd()">Cancel</button> <button type="button" onclick="addUser()">Save</button></td>',le,P,v,rt,Oe='<input type="checkbox" name="select$index" placeholder="Select"/>',ae,vt,_t=p[0].idx+"",$t,ne,ht,ft=p[0].userid+"",Bt,re,ot,Le="-",oe,ct,xt=p[0].email+"",Rt,ie,Ct,mt=p[0].grade+"",qt,de,Tt,bt=p[0].approval+"",Gt,ue,it,Se='<button type="button" lr-click="openEdit($index)">Edit</button> <button type="button" lr-click="deleteUser($index)">Delete</button>',se,_,dt,Ue=" ",pe,Q,R,zt,ve,gt,Et=p[0].idx+"",Yt,_e,yt,N,Dt,he,ut,He='<input type="password" name="password" value="" placeholder="Password"/>',fe,kt,A,Pt,ce,Nt,E,At,xe,It,m,Ot,Ce,st,Me='<button type="button" onclick="closeEdit()">Cancel</button> <button type="button" onclick="updateUser()">Save</button>',Vt,T,I,we="Admin",O,je="Manager",L,$e="Regular user",S,Be="Pending user",U,Re="Banned user",H,qe="Resigned user",Ft,q,M,Ge="Y",w,ze="N",Jt,W,f,X,Ye="«",me,Z,Ve="<",Te,pt,G,Lt=p[0].page+"",Kt,Qt,be,j,St=p[0].page+"",Wt,Xt,ge,tt,Fe=">",Ee,et,Je="»";return{c(){C=l("h1"),C.textContent=at,J=i(),y=l("h1"),y.textContent=De,Ut=i(),D=l("button"),D.textContent=ke,Ht=i(),$=l("label"),$.textContent=Pe,Mt=i(),B=l("input"),wt=i(),k=l("button"),k.textContent=Ne,jt=i(),g=l("table"),nt=l("thead"),nt.innerHTML=Ae,ee=i(),K=l("tr"),K.innerHTML=Ie,le=i(),P=l("tbody"),v=l("tr"),rt=l("td"),rt.innerHTML=Oe,ae=i(),vt=l("td"),$t=z(_t),ne=i(),ht=l("td"),Bt=z(ft),re=i(),ot=l("td"),ot.textContent=Le,oe=i(),ct=l("td"),Rt=z(xt),ie=i(),Ct=l("td"),qt=z(mt),de=i(),Tt=l("td"),Gt=z(bt),ue=i(),it=l("td"),it.innerHTML=Se,se=i(),_=l("tr"),dt=l("td"),dt.textContent=Ue,pe=i(),Q=l("td"),R=l("input"),ve=i(),gt=l("span"),Yt=z(Et),_e=i(),yt=l("td"),N=l("input"),he=i(),ut=l("td"),ut.innerHTML=He,fe=i(),kt=l("td"),A=l("input"),ce=i(),Nt=l("td"),E=l("input"),xe=i(),It=l("td"),m=l("input"),Ce=i(),st=l("td"),st.innerHTML=Me,Vt=i(),T=l("datalist"),I=l("option"),I.textContent=we,O=l("option"),O.textContent=je,L=l("option"),L.textContent=$e,S=l("option"),S.textContent=Be,U=l("option"),U.textContent=Re,H=l("option"),H.textContent=qe,Ft=i(),q=l("datalist"),M=l("option"),M.textContent=Ge,w=l("option"),w.textContent=ze,Jt=i(),W=l("div"),f=l("div"),X=l("span"),X.textContent=Ye,me=i(),Z=l("span"),Z.textContent=Ve,Te=i(),pt=l("b"),G=l("a"),Kt=z(Lt),be=i(),j=l("a"),Wt=z(St),ge=i(),tt=l("span"),tt.textContent=Fe,Ee=i(),et=l("span"),et.textContent=Je,this.h()},l(e){C=a(e,"H1",{"data-svelte-h":!0}),u(C)!=="svelte-1avqiiv"&&(C.textContent=at),J=d(e),y=a(e,"H1",{"data-svelte-h":!0}),u(y)!=="svelte-m72mvo"&&(y.textContent=De),Ut=d(e),D=a(e,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),u(D)!=="svelte-p61jeb"&&(D.textContent=ke),Ht=d(e),$=a(e,"LABEL",{for:!0,"data-svelte-h":!0}),u($)!=="svelte-1tn9osg"&&($.textContent=Pe),Mt=d(e),B=a(e,"INPUT",{type:!0,id:!0,onkeyup:!0,placeholder:!0}),wt=d(e),k=a(e,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),u(k)!=="svelte-155jhv4"&&(k.textContent=Ne),jt=d(e),g=a(e,"TABLE",{id:!0});var r=s(g);nt=a(r,"THEAD",{"data-svelte-h":!0}),u(nt)!=="svelte-1vk9zmj"&&(nt.innerHTML=Ae),ee=d(r),K=a(r,"TR",{id:!0,"data-svelte-h":!0}),u(K)!=="svelte-1tlor5x"&&(K.innerHTML=Ie),le=d(r),P=a(r,"TBODY",{id:!0,"lr-loop":!0});var Zt=s(P);v=a(Zt,"TR",{"lr-if":!0});var c=s(v);rt=a(c,"TD",{"data-svelte-h":!0}),u(rt)!=="svelte-2ov703"&&(rt.innerHTML=Oe),ae=d(c),vt=a(c,"TD",{});var Ke=s(vt);$t=Y(Ke,_t),Ke.forEach(o),ne=d(c),ht=a(c,"TD",{});var Qe=s(ht);Bt=Y(Qe,ft),Qe.forEach(o),re=d(c),ot=a(c,"TD",{"data-svelte-h":!0}),u(ot)!=="svelte-17887i7"&&(ot.textContent=Le),oe=d(c),ct=a(c,"TD",{});var We=s(ct);Rt=Y(We,xt),We.forEach(o),ie=d(c),Ct=a(c,"TD",{});var Xe=s(Ct);qt=Y(Xe,mt),Xe.forEach(o),de=d(c),Tt=a(c,"TD",{});var Ze=s(Tt);Gt=Y(Ze,bt),Ze.forEach(o),ue=d(c),it=a(c,"TD",{"data-svelte-h":!0}),u(it)!=="svelte-1mpexy7"&&(it.innerHTML=Se),c.forEach(o),se=d(Zt),_=a(Zt,"TR",{"lr-if":!0});var x=s(_);dt=a(x,"TD",{"data-svelte-h":!0}),u(dt)!=="svelte-mcho4g"&&(dt.textContent=Ue),pe=d(x),Q=a(x,"TD",{});var te=s(Q);R=a(te,"INPUT",{type:!0,name:!0,placeholder:!0}),ve=d(te),gt=a(te,"SPAN",{});var tl=s(gt);Yt=Y(tl,Et),tl.forEach(o),te.forEach(o),_e=d(x),yt=a(x,"TD",{});var el=s(yt);N=a(el,"INPUT",{type:!0,name:!0,placeholder:!0}),el.forEach(o),he=d(x),ut=a(x,"TD",{"data-svelte-h":!0}),u(ut)!=="svelte-1ih4stn"&&(ut.innerHTML=He),fe=d(x),kt=a(x,"TD",{});var ll=s(kt);A=a(ll,"INPUT",{type:!0,name:!0,placeholder:!0}),ll.forEach(o),ce=d(x),Nt=a(x,"TD",{});var al=s(Nt);E=a(al,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),al.forEach(o),xe=d(x),It=a(x,"TD",{});var nl=s(It);m=a(nl,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,autocomplete:!0,placeholder:!0}),nl.forEach(o),Ce=d(x),st=a(x,"TD",{"data-svelte-h":!0}),u(st)!=="svelte-1ba84od"&&(st.innerHTML=Me),x.forEach(o),Zt.forEach(o),r.forEach(o),Vt=d(e),T=a(e,"DATALIST",{id:!0});var lt=s(T);I=a(lt,"OPTION",{"data-svelte-h":!0}),u(I)!=="svelte-17op260"&&(I.textContent=we),O=a(lt,"OPTION",{"data-svelte-h":!0}),u(O)!=="svelte-1ob7gsw"&&(O.textContent=je),L=a(lt,"OPTION",{"data-svelte-h":!0}),u(L)!=="svelte-ielivd"&&(L.textContent=$e),S=a(lt,"OPTION",{"data-svelte-h":!0}),u(S)!=="svelte-311eip"&&(S.textContent=Be),U=a(lt,"OPTION",{"data-svelte-h":!0}),u(U)!=="svelte-1ot027p"&&(U.textContent=Re),H=a(lt,"OPTION",{"data-svelte-h":!0}),u(H)!=="svelte-oqo3b7"&&(H.textContent=qe),lt.forEach(o),Ft=d(e),q=a(e,"DATALIST",{id:!0});var ye=s(q);M=a(ye,"OPTION",{"data-svelte-h":!0}),u(M)!=="svelte-bn5wcs"&&(M.textContent=Ge),w=a(ye,"OPTION",{"data-svelte-h":!0}),u(w)!=="svelte-1lj1emm"&&(w.textContent=ze),ye.forEach(o),Jt=d(e),W=a(e,"DIV",{id:!0});var rl=s(W);f=a(rl,"DIV",{"lr-loop":!0});var b=s(f);X=a(b,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),u(X)!=="svelte-2udg8q"&&(X.textContent=Ye),me=d(b),Z=a(b,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),u(Z)!=="svelte-1odbese"&&(Z.textContent=Ve),Te=d(b),pt=a(b,"B",{"lr-if":!0});var ol=s(pt);G=a(ol,"A",{href:!0,rel:!0});var il=s(G);Kt=Y(il,Lt),il.forEach(o),ol.forEach(o),be=d(b),j=a(b,"A",{"lr-if":!0,href:!0,rel:!0});var dl=s(j);Wt=Y(dl,St),dl.forEach(o),ge=d(b),tt=a(b,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),u(tt)!=="svelte-khd429"&&(tt.textContent=Fe),Ee=d(b),et=a(b,"SPAN",{"lr-if":!0,"data-svelte-h":!0}),u(et)!=="svelte-ickxmi"&&(et.textContent=Je),b.forEach(o),rl.forEach(o),this.h()},h(){n(D,"type","button"),n(D,"onclick","openAdd()"),n($,"for","search"),n(B,"type","text"),n(B,"id","search"),n(B,"onkeyup","pressEnter()"),n(B,"placeholder","Search for..."),n(k,"type","button"),n(k,"onclick","search()"),n(K,"id","add-user"),n(v,"lr-if","userEditIndex != $index"),n(R,"type","hidden"),n(R,"name","idx"),R.value=zt=p[0].idx,n(R,"placeholder","Index"),n(N,"type","text"),n(N,"name","userid"),N.value=Dt=p[0].userid,n(N,"placeholder","Userid"),n(A,"type","text"),n(A,"name","email"),A.value=Pt=p[0].email,n(A,"placeholder","Email"),n(E,"type","text"),n(E,"name","grade"),n(E,"onchange","restrictDatalist(this)"),n(E,"list","grade-list"),E.value=At=p[0].grade,n(E,"placeholder","Grade"),n(m,"type","text"),n(m,"name","approval"),n(m,"onchange","restrictDatalist(this)"),n(m,"list","yn-list"),m.value=Ot=p[0].approval,n(m,"autocomplete","off"),n(m,"placeholder","Approval"),n(_,"lr-if","userEditIndex == $index"),n(P,"id","users-list-body"),n(P,"lr-loop","usersList"),n(g,"id","users-list-container"),I.__value="admin",V(I,I.__value),O.__value="manager",V(O,O.__value),L.__value="regular_user",V(L,L.__value),S.__value="pending_user",V(S,S.__value),U.__value="banned_user",V(U,U.__value),H.__value="resigned_user",V(H,H.__value),n(T,"id","grade-list"),M.__value="Y",V(M,M.__value),w.__value="N",V(w,w.__value),n(q,"id","yn-list"),n(X,"lr-if","$index == 0 && pages[0].page > 1"),n(Z,"lr-if","$index == 0 && pages[0].page > 1"),n(G,"href",Qt=p[0].link),n(G,"rel","external"),n(pt,"lr-if","page == usersData['current-page']"),n(j,"lr-if","page != usersData['current-page']"),n(j,"href",Xt=p[0].link),n(j,"rel","external"),n(tt,"lr-if","page < usersData['total-page'] && $index == (pages.length - 1)"),n(et,"lr-if","page < usersData['total-page'] && $index == (pages.length - 1)"),n(f,"lr-loop","pages"),n(W,"id","pages-container")},m(e,r){h(e,C,r),h(e,J,r),h(e,y,r),h(e,Ut,r),h(e,D,r),h(e,Ht,r),h(e,$,r),h(e,Mt,r),h(e,B,r),h(e,wt,r),h(e,k,r),h(e,jt,r),h(e,g,r),t(g,nt),t(g,ee),t(g,K),t(g,le),t(g,P),t(P,v),t(v,rt),t(v,ae),t(v,vt),t(vt,$t),t(v,ne),t(v,ht),t(ht,Bt),t(v,re),t(v,ot),t(v,oe),t(v,ct),t(ct,Rt),t(v,ie),t(v,Ct),t(Ct,qt),t(v,de),t(v,Tt),t(Tt,Gt),t(v,ue),t(v,it),t(P,se),t(P,_),t(_,dt),t(_,pe),t(_,Q),t(Q,R),t(Q,ve),t(Q,gt),t(gt,Yt),t(_,_e),t(_,yt),t(yt,N),t(_,he),t(_,ut),t(_,fe),t(_,kt),t(kt,A),t(_,ce),t(_,Nt),t(Nt,E),t(_,xe),t(_,It),t(It,m),t(_,Ce),t(_,st),h(e,Vt,r),h(e,T,r),t(T,I),t(T,O),t(T,L),t(T,S),t(T,U),t(T,H),h(e,Ft,r),h(e,q,r),t(q,M),t(q,w),h(e,Jt,r),h(e,W,r),t(W,f),t(f,X),t(f,me),t(f,Z),t(f,Te),t(f,pt),t(pt,G),t(G,Kt),t(f,be),t(f,j),t(j,Wt),t(f,ge),t(f,tt),t(f,Ee),t(f,et)},p(e,[r]){r&1&&_t!==(_t=e[0].idx+"")&&F($t,_t),r&1&&ft!==(ft=e[0].userid+"")&&F(Bt,ft),r&1&&xt!==(xt=e[0].email+"")&&F(Rt,xt),r&1&&mt!==(mt=e[0].grade+"")&&F(qt,mt),r&1&&bt!==(bt=e[0].approval+"")&&F(Gt,bt),r&1&&zt!==(zt=e[0].idx)&&(R.value=zt),r&1&&Et!==(Et=e[0].idx+"")&&F(Yt,Et),r&1&&Dt!==(Dt=e[0].userid)&&N.value!==Dt&&(N.value=Dt),r&1&&Pt!==(Pt=e[0].email)&&A.value!==Pt&&(A.value=Pt),r&1&&At!==(At=e[0].grade)&&E.value!==At&&(E.value=At),r&1&&Ot!==(Ot=e[0].approval)&&m.value!==Ot&&(m.value=Ot),r&1&&Lt!==(Lt=e[0].page+"")&&F(Kt,Lt),r&1&&Qt!==(Qt=e[0].link)&&n(G,"href",Qt),r&1&&St!==(St=e[0].page+"")&&F(Wt,St),r&1&&Xt!==(Xt=e[0].link)&&n(j,"href",Xt)},i:ul,o:ul,d(e){e&&(o(C),o(J),o(y),o(Ut),o(D),o(Ht),o($),o(Mt),o(B),o(wt),o(k),o(jt),o(g),o(Vt),o(T),o(Ft),o(q),o(Jt),o(W))}}}function fl(p,C,at){let{data:J}=C;return p.$$set=y=>{"data"in y&&at(0,J=y.data)},[J]}class ml extends pl{constructor(C){super(),vl(this,C,fl,hl,sl,{data:0})}}export{ml as component,Cl as universal};
