import{s as dt,n as K,r as it}from"../chunks/scheduler.e108d1fd.js";import{S as st,i as ct,g as o,s as T,h as a,y as q,c as b,j as I,f as c,k as i,z as Z,a as M,x as e,A as Q,B as pt,e as nt,m as X,n as Y}from"../chunks/index.7e31c220.js";function ot(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const ht=async({fetch:n})=>{let t={};const r=await n("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return r.ok&&(t=await r.json()),{columns:t}},kt=Object.freeze(Object.defineProperty({__proto__:null,load:ht},Symbol.toStringTag,{value:"Module"}));function at(n,t,r){const h=n.slice();return h[10]=t[r],h[12]=r,h}function rt(n){let t,r,h=" ",s,u,m,k,g,v,f,_,x,P,w,D,L,y,S=" ",R,E,B,A="Cancel",G,U,H="Save",N,J;return{c(){t=o("tr"),r=o("td"),r.textContent=h,s=T(),u=o("td"),m=o("input"),k=T(),g=o("td"),v=o("input"),f=T(),_=o("td"),x=o("input"),P=T(),w=o("td"),D=o("input"),L=T(),y=o("td"),y.textContent=S,R=T(),E=o("td"),B=o("button"),B.textContent=A,G=T(),U=o("button"),U.textContent=H,this.h()},l(p){t=a(p,"TR",{id:!0});var l=I(t);r=a(l,"TD",{"data-svelte-h":!0}),q(r)!=="svelte-mcho4g"&&(r.textContent=h),s=b(l),u=a(l,"TD",{});var d=I(u);m=a(d,"INPUT",{type:!0,name:!0,placeholder:!0}),d.forEach(c),k=b(l),g=a(l,"TD",{});var C=I(g);v=a(C,"INPUT",{type:!0,name:!0,placeholder:!0}),C.forEach(c),f=b(l),_=a(l,"TD",{});var j=I(_);x=a(j,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),j.forEach(c),P=b(l),w=a(l,"TD",{});var z=I(w);D=a(z,"INPUT",{type:!0,name:!0,placeholder:!0}),z.forEach(c),L=b(l),y=a(l,"TD",{"data-svelte-h":!0}),q(y)!=="svelte-mcho4g"&&(y.textContent=S),R=b(l),E=a(l,"TD",{});var O=I(E);B=a(O,"BUTTON",{type:!0,"data-svelte-h":!0}),q(B)!=="svelte-n5c03x"&&(B.textContent=A),G=b(O),U=a(O,"BUTTON",{type:!0,"data-svelte-h":!0}),q(U)!=="svelte-784wce"&&(U.textContent=H),O.forEach(c),l.forEach(c),this.h()},h(){i(m,"type","text"),i(m,"name","display-name"),m.value=n[3]["display-name"],i(m,"placeholder","Display name"),i(v,"type","text"),i(v,"name","column-code"),v.value=n[3]["column-code"],i(v,"placeholder","Column code"),i(x,"type","text"),i(x,"name","column-type"),x.value=n[3]["column-type"],i(x,"onchange","restrictDatalist(this)"),i(x,"list","column-types"),i(x,"placeholder","Column type"),i(D,"type","text"),i(D,"name","column-name"),D.value=n[3]["column-name"],i(D,"placeholder","Column name"),i(B,"type","button"),i(U,"type","button"),i(t,"id","add-column")},m(p,l){M(p,t,l),e(t,r),e(t,s),e(t,u),e(u,m),e(t,k),e(t,g),e(g,v),e(t,f),e(t,_),e(_,x),e(t,P),e(t,w),e(w,D),e(t,L),e(t,y),e(t,R),e(t,E),e(E,B),e(E,G),e(E,U),N||(J=[Q(B,"click",n[6]),Q(U,"click",n[7])],N=!0)},p:K,d(p){p&&c(t),N=!1,it(J)}}}function mt(n){let t,r,h=" ",s,u,m,k,g,v,f,_,x,P,w,D,L,y,S,R,E,B=n[10]["sort-order"]+"",A,G,U,H,N="Cancel",J,p,l="Save",d,C,j;return{c(){t=o("tr"),r=o("td"),r.textContent=h,s=T(),u=o("td"),m=o("input"),k=T(),g=o("td"),v=o("input"),f=T(),_=o("td"),x=o("input"),P=T(),w=o("td"),D=o("input"),L=T(),y=o("td"),S=o("input"),R=T(),E=o("span"),A=X(B),G=T(),U=o("td"),H=o("button"),H.textContent=N,J=T(),p=o("button"),p.textContent=l,d=T(),this.h()},l(z){t=a(z,"TR",{"lr-if":!0});var O=I(t);r=a(O,"TD",{"data-svelte-h":!0}),q(r)!=="svelte-mcho4g"&&(r.textContent=h),s=b(O),u=a(O,"TD",{});var F=I(u);m=a(F,"INPUT",{type:!0,name:!0,placeholder:!0}),F.forEach(c),k=b(O),g=a(O,"TD",{});var $=I(g);v=a($,"INPUT",{type:!0,name:!0,placeholder:!0}),$.forEach(c),f=b(O),_=a(O,"TD",{});var tt=I(_);x=a(tt,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),tt.forEach(c),P=b(O),w=a(O,"TD",{});var et=I(w);D=a(et,"INPUT",{type:!0,name:!0,placeholder:!0}),et.forEach(c),L=b(O),y=a(O,"TD",{});var V=I(y);S=a(V,"INPUT",{type:!0,name:!0}),R=b(V),E=a(V,"SPAN",{});var lt=I(E);A=Y(lt,B),lt.forEach(c),V.forEach(c),G=b(O),U=a(O,"TD",{});var W=I(U);H=a(W,"BUTTON",{type:!0,"data-svelte-h":!0}),q(H)!=="svelte-qr4i42"&&(H.textContent=N),J=b(W),p=a(W,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),q(p)!=="svelte-12kwy68"&&(p.textContent=l),W.forEach(c),d=b(O),O.forEach(c),this.h()},h(){i(m,"type","text"),i(m,"name","display-name"),m.value=n[10]["display-name"],i(m,"placeholder","Display name"),i(v,"type","text"),i(v,"name","column-code"),v.value=n[10]["column-code"],i(v,"placeholder","Column code"),i(x,"type","text"),i(x,"name","column-type"),x.value=n[10]["column-type"],i(x,"onchange","restrictDatalist(this)"),i(x,"list","column-types"),i(x,"placeholder","Column type"),x.disabled=!0,i(D,"type","text"),i(D,"name","column-name"),D.value=n[10]["column-name"],i(D,"placeholder","Column name"),i(S,"type","hidden"),i(S,"name","sort-order"),S.value=n[10]["sort-order"],i(H,"type","button"),i(p,"type","button"),i(p,"onclick","updateColumn()"),i(t,"lr-if","columnEditIndex == $index")},m(z,O){M(z,t,O),e(t,r),e(t,s),e(t,u),e(u,m),e(t,k),e(t,g),e(g,v),e(t,f),e(t,_),e(_,x),e(t,P),e(t,w),e(w,D),e(t,L),e(t,y),e(y,S),e(y,R),e(y,E),e(E,A),e(t,G),e(t,U),e(U,H),e(U,J),e(U,p),e(t,d),C||(j=Q(H,"click",n[9]),C=!0)},p:K,d(z){z&&c(t),C=!1,j()}}}function ft(n){let t,r,h='<input type="checkbox" name="select$index" placeholder="Select"/>',s,u,m=n[10]["display-name"]+"",k,g,v,f=n[10]["column-code"]+"",_,x,P,w=n[10]["column-type"]+"",D,L,y,S=n[10]["column-name"]+"",R,E,B,A=n[10]["sort-order"]+"",G,U,H;function N(l,d){return l[12]<=6?vt:_t}let p=N(n)(n);return{c(){t=o("tr"),r=o("td"),r.innerHTML=h,s=T(),u=o("td"),k=X(m),g=T(),v=o("td"),_=X(f),x=T(),P=o("td"),D=X(w),L=T(),y=o("td"),R=X(S),E=T(),B=o("td"),G=X(A),U=T(),p.c(),H=T(),this.h()},l(l){t=a(l,"TR",{"lr-if":!0});var d=I(t);r=a(d,"TD",{"data-svelte-h":!0}),q(r)!=="svelte-1er8i0j"&&(r.innerHTML=h),s=b(d),u=a(d,"TD",{});var C=I(u);k=Y(C,m),C.forEach(c),g=b(d),v=a(d,"TD",{});var j=I(v);_=Y(j,f),j.forEach(c),x=b(d),P=a(d,"TD",{});var z=I(P);D=Y(z,w),z.forEach(c),L=b(d),y=a(d,"TD",{});var O=I(y);R=Y(O,S),O.forEach(c),E=b(d),B=a(d,"TD",{});var F=I(B);G=Y(F,A),F.forEach(c),U=b(d),p.l(d),H=b(d),d.forEach(c),this.h()},h(){i(t,"lr-if","columnEditIndex != $index")},m(l,d){M(l,t,d),e(t,r),e(t,s),e(t,u),e(u,k),e(t,g),e(t,v),e(v,_),e(t,x),e(t,P),e(P,D),e(t,L),e(t,y),e(y,R),e(t,E),e(t,B),e(B,G),e(t,U),p.m(t,null),e(t,H)},p(l,d){p.p(l,d)},d(l){l&&c(t),p.d()}}}function _t(n){let t,r,h="Edit",s,u,m="Delete",k,g;function v(){return n[8](n[12])}return{c(){t=o("td"),r=o("button"),r.textContent=h,s=T(),u=o("button"),u.textContent=m,this.h()},l(f){t=a(f,"TD",{"lr-if":!0});var _=I(t);r=a(_,"BUTTON",{type:!0,"data-svelte-h":!0}),q(r)!=="svelte-1qnq4rp"&&(r.textContent=h),s=b(_),u=a(_,"BUTTON",{type:!0,"lr-click":!0,"data-svelte-h":!0}),q(u)!=="svelte-1nbq7qu"&&(u.textContent=m),_.forEach(c),this.h()},h(){i(r,"type","button"),i(u,"type","button"),i(u,"lr-click","deleteColumn($index)"),i(t,"lr-if","$index > 6")},m(f,_){M(f,t,_),e(t,r),e(t,s),e(t,u),k||(g=Q(r,"click",v),k=!0)},p(f,_){n=f},d(f){f&&c(t),k=!1,g()}}}function vt(n){let t,r=" ";return{c(){t=o("td"),t.textContent=r,this.h()},l(h){t=a(h,"TD",{"lr-if":!0,"data-svelte-h":!0}),q(t)!=="svelte-8zvfss"&&(t.textContent=r),this.h()},h(){i(t,"lr-if","$index <= 6")},m(h,s){M(h,t,s)},p:K,d(h){h&&c(t)}}}function ut(n){let t;function r(u,m){return u[0]!=u[12]?ft:mt}let h=r(n),s=h(n);return{c(){s.c(),t=nt()},l(u){s.l(u),t=nt()},m(u,m){s.m(u,m),M(u,t,m)},p(u,m){h===(h=r(u))&&s?s.p(u,m):(s.d(1),s=h(u),s&&(s.c(),s.m(t.parentNode,t)))},d(u){u&&c(t),s.d(u)}}}function yt(n){let t,r="Admin / User columns",h,s,u="User fields",m,k,g="Add column",v,f,_,x='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',P,w,D,L,y,S,R="Text",E,B="Number Integer",A,G="Number Real",U,H,N=n[1]&&rt(n),J=ot(n[2]),p=[];for(let l=0;l<J.length;l+=1)p[l]=ut(at(n,J,l));return{c(){t=o("h1"),t.textContent=r,h=T(),s=o("h1"),s.textContent=u,m=T(),k=o("button"),k.textContent=g,v=T(),f=o("table"),_=o("thead"),_.innerHTML=x,P=T(),N&&N.c(),w=T(),D=o("tbody");for(let l=0;l<p.length;l+=1)p[l].c();L=T(),y=o("datalist"),S=o("option"),S.textContent=R,E=o("option"),E.textContent=B,A=o("option"),A.textContent=G,this.h()},l(l){t=a(l,"H1",{"data-svelte-h":!0}),q(t)!=="svelte-o3nl2"&&(t.textContent=r),h=b(l),s=a(l,"H1",{"data-svelte-h":!0}),q(s)!=="svelte-o0zdvi"&&(s.textContent=u),m=b(l),k=a(l,"BUTTON",{type:!0,"data-svelte-h":!0}),q(k)!=="svelte-18wryhz"&&(k.textContent=g),v=b(l),f=a(l,"TABLE",{id:!0});var d=I(f);_=a(d,"THEAD",{"data-svelte-h":!0}),q(_)!=="svelte-15hdz98"&&(_.innerHTML=x),P=b(d),N&&N.l(d),w=b(d),D=a(d,"TBODY",{id:!0});var C=I(D);for(let z=0;z<p.length;z+=1)p[z].l(C);C.forEach(c),d.forEach(c),L=b(l),y=a(l,"DATALIST",{id:!0});var j=I(y);S=a(j,"OPTION",{"data-svelte-h":!0}),q(S)!=="svelte-1mqqvia"&&(S.textContent=R),E=a(j,"OPTION",{"data-svelte-h":!0}),q(E)!=="svelte-1mkb7wl"&&(E.textContent=B),A=a(j,"OPTION",{"data-svelte-h":!0}),q(A)!=="svelte-10956bv"&&(A.textContent=G),j.forEach(c),this.h()},h(){i(k,"type","button"),i(D,"id","column-list-body"),i(f,"id","column-list-container"),S.__value="text",Z(S,S.__value),E.__value="number-integer",Z(E,E.__value),A.__value="number-real",Z(A,A.__value),i(y,"id","column-types")},m(l,d){M(l,t,d),M(l,h,d),M(l,s,d),M(l,m,d),M(l,k,d),M(l,v,d),M(l,f,d),e(f,_),e(f,P),N&&N.m(f,null),e(f,w),e(f,D);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(D,null);M(l,L,d),M(l,y,d),e(y,S),e(y,E),e(y,A),U||(H=Q(k,"click",n[5]),U=!0)},p(l,[d]){if(l[1]?N?N.p(l,d):(N=rt(l),N.c(),N.m(f,w)):N&&(N.d(1),N=null),d&5){J=ot(l[2]);let C;for(C=0;C<J.length;C+=1){const j=at(l,J,C);p[C]?p[C].p(j,d):(p[C]=ut(j),p[C].c(),p[C].m(D,null))}for(;C<p.length;C+=1)p[C].d(1);p.length=J.length}},i:K,o:K,d(l){l&&(c(t),c(h),c(s),c(m),c(k),c(v),c(f),c(L),c(y)),N&&N.d(),pt(p,l),U=!1,H()}}}function Ct(n){alert(`Hello ${n}!`)}function Tt(n,t,r){let{data:h}=t;const{columns:s}=h;let u=-1,m=!1,k={"display-name":"","display-code":"","column-type":"","column-name":""};const g=()=>{r(1,m=!0)},v=()=>{r(1,m=!1)},f=()=>Ct("Jane"),_=P=>{r(0,u=P)},x=()=>{r(0,u=-1)};return n.$$set=P=>{"data"in P&&r(4,h=P.data)},[u,m,s,k,h,g,v,f,_,x]}class Dt extends st{constructor(t){super(),ct(this,t,Tt,yt,dt,{data:4})}}export{Dt as component,kt as universal};
