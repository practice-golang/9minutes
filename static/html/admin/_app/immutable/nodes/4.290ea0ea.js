import{s as Ut,n as yt,r as $t}from"../chunks/scheduler.e108d1fd.js";import{S as jt,i as zt,g as e,s as r,h as l,y as _,c as i,j as T,f as u,k as s,z as Ct,a as I,x as t,A as Ot,B as Bt,m as ft,n as _t}from"../chunks/index.7e31c220.js";function It(d){return(d==null?void 0:d.length)!==void 0?d:Array.from(d)}const qt=async({fetch:d})=>{let n={};const x=await d("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return x.ok&&(n=await x.json()),{columns:n}},Yt=Object.freeze(Object.defineProperty({__proto__:null,load:qt},Symbol.toStringTag,{value:"Module"}));function Pt(d,n,x){const b=d.slice();return b[4]=n[x],b[6]=x,b}function St(d){let n,x,b='<input type="checkbox" name="select$index" placeholder="Select"/>',L,j,Q=d[4]["display-name"]+"",D,rt,z,H=d[4]["column-code"]+"",B,it,V,m=d[4]["column-type"]+"",q,st,W,X=d[4]["column-name"]+"",ct,at,M,Tt=d[4]["sort-order"]+"",dt,R,w,ht=" ",J,G,pt='<button type="button" lr-click="openEdit($index)">Edit</button> <button type="button" lr-click="deleteColumn($index)">Delete</button>',P,p,Y,F=" ",g,et,S,N,lt,A,U,K,f,k,nt,C,mt,y,Z,ut,ot,tt=d[4]["sort-order"]+"",v,o,c,a='<button type="button" onclick="closeEdit()">Cancel</button> <button type="button" onclick="updateColumn()">Save</button>',$;return{c(){n=e("tr"),x=e("td"),x.innerHTML=b,L=r(),j=e("td"),D=ft(Q),rt=r(),z=e("td"),B=ft(H),it=r(),V=e("td"),q=ft(m),st=r(),W=e("td"),ct=ft(X),at=r(),M=e("td"),dt=ft(Tt),R=r(),w=e("td"),w.textContent=ht,J=r(),G=e("td"),G.innerHTML=pt,P=r(),p=e("tr"),Y=e("td"),Y.textContent=F,g=r(),et=e("td"),S=e("input"),N=r(),lt=e("td"),A=e("input"),U=r(),K=e("td"),f=e("input"),k=r(),nt=e("td"),C=e("input"),mt=r(),y=e("td"),Z=e("input"),ut=r(),ot=e("span"),v=ft(tt),o=r(),c=e("td"),c.innerHTML=a,$=r(),this.h()},l(O){n=l(O,"TR",{"lr-if":!0});var h=T(n);x=l(h,"TD",{"data-svelte-h":!0}),_(x)!=="svelte-27ukkz"&&(x.innerHTML=b),L=i(h),j=l(h,"TD",{});var vt=T(j);D=_t(vt,Q),vt.forEach(u),rt=i(h),z=l(h,"TD",{});var bt=T(z);B=_t(bt,H),bt.forEach(u),it=i(h),V=l(h,"TD",{});var Dt=T(V);q=_t(Dt,m),Dt.forEach(u),st=i(h),W=l(h,"TD",{});var Et=T(W);ct=_t(Et,X),Et.forEach(u),at=i(h),M=l(h,"TD",{});var Ht=T(M);dt=_t(Ht,Tt),Ht.forEach(u),R=i(h),w=l(h,"TD",{"lr-if":!0,"data-svelte-h":!0}),_(w)!=="svelte-8zvfss"&&(w.textContent=ht),J=i(h),G=l(h,"TD",{"lr-if":!0,"data-svelte-h":!0}),_(G)!=="svelte-bxyxmp"&&(G.innerHTML=pt),h.forEach(u),P=i(O),p=l(O,"TR",{"lr-if":!0});var E=T(p);Y=l(E,"TD",{"data-svelte-h":!0}),_(Y)!=="svelte-mcho4g"&&(Y.textContent=F),g=i(E),et=l(E,"TD",{});var Lt=T(et);S=l(Lt,"INPUT",{type:!0,name:!0,placeholder:!0}),Lt.forEach(u),N=i(E),lt=l(E,"TD",{});var kt=T(lt);A=l(kt,"INPUT",{type:!0,name:!0,placeholder:!0}),kt.forEach(u),U=i(E),K=l(E,"TD",{});var Mt=T(K);f=l(Mt,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),Mt.forEach(u),k=i(E),nt=l(E,"TD",{});var gt=T(nt);C=l(gt,"INPUT",{type:!0,name:!0,placeholder:!0}),gt.forEach(u),mt=i(E),y=l(E,"TD",{});var xt=T(y);Z=l(xt,"INPUT",{type:!0,name:!0}),ut=i(xt),ot=l(xt,"SPAN",{});var Nt=T(ot);v=_t(Nt,tt),Nt.forEach(u),xt.forEach(u),o=i(E),c=l(E,"TD",{"data-svelte-h":!0}),_(c)!=="svelte-1ecxt4"&&(c.innerHTML=a),$=i(E),E.forEach(u),this.h()},h(){s(w,"lr-if","$index <= 6"),s(G,"lr-if","$index > 6"),s(n,"lr-if","columnEditIndex != $index"),s(S,"type","text"),s(S,"name","display-name"),S.value=d[4]["display-name"],s(S,"placeholder","Display name"),s(A,"type","text"),s(A,"name","column-code"),A.value=d[4]["column-code"],s(A,"placeholder","Column code"),s(f,"type","text"),s(f,"name","column-type"),f.value=d[4]["column-type"],s(f,"onchange","restrictDatalist(this)"),s(f,"list","column-types"),s(f,"placeholder","Column type"),f.disabled=!0,s(C,"type","text"),s(C,"name","column-name"),C.value=d[4]["column-name"],s(C,"placeholder","Column name"),s(Z,"type","hidden"),s(Z,"name","sort-order"),Z.value=d[4]["sort-order"],s(p,"lr-if","columnEditIndex == $index")},m(O,h){I(O,n,h),t(n,x),t(n,L),t(n,j),t(j,D),t(n,rt),t(n,z),t(z,B),t(n,it),t(n,V),t(V,q),t(n,st),t(n,W),t(W,ct),t(n,at),t(n,M),t(M,dt),t(n,R),t(n,w),t(n,J),t(n,G),I(O,P,h),I(O,p,h),t(p,Y),t(p,g),t(p,et),t(et,S),t(p,N),t(p,lt),t(lt,A),t(p,U),t(p,K),t(K,f),t(p,k),t(p,nt),t(nt,C),t(p,mt),t(p,y),t(y,Z),t(y,ut),t(y,ot),t(ot,v),t(p,o),t(p,c),t(p,$)},p:yt,d(O){O&&(u(n),u(P),u(p))}}}function Rt(d){let n,x="Admin / User columns",b,L,j="User fields",Q,D,rt="Add column",z,H,B,it='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',V,m,q,st=" ",W,X,ct='<input type="text" name="display-name" value="" placeholder="Display name"/>',at,M,Tt='<input type="text" name="column-code" value="" placeholder="Column code"/>',dt,R,w='<input type="text" name="column-type" value="" onchange="restrictDatalist(this)" list="column-types" placeholder="Column type"/>',ht,J,G='<input type="text" name="column-name" value="" placeholder="Column name"/>',pt,P,p=" ",Y,F,g,et="Cancel",S,N,lt="Save",A,U,K,f,k,nt="Text",C,mt="Number Integer",y,Z="Number Real",ut,ot,tt=It(d[0]),v=[];for(let o=0;o<tt.length;o+=1)v[o]=St(Pt(d,tt,o));return{c(){n=e("h1"),n.textContent=x,b=r(),L=e("h1"),L.textContent=j,Q=r(),D=e("button"),D.textContent=rt,z=r(),H=e("table"),B=e("thead"),B.innerHTML=it,V=r(),m=e("tr"),q=e("td"),q.textContent=st,W=r(),X=e("td"),X.innerHTML=ct,at=r(),M=e("td"),M.innerHTML=Tt,dt=r(),R=e("td"),R.innerHTML=w,ht=r(),J=e("td"),J.innerHTML=G,pt=r(),P=e("td"),P.textContent=p,Y=r(),F=e("td"),g=e("button"),g.textContent=et,S=r(),N=e("button"),N.textContent=lt,A=r(),U=e("tbody");for(let o=0;o<v.length;o+=1)v[o].c();K=r(),f=e("datalist"),k=e("option"),k.textContent=nt,C=e("option"),C.textContent=mt,y=e("option"),y.textContent=Z,this.h()},l(o){n=l(o,"H1",{"data-svelte-h":!0}),_(n)!=="svelte-o3nl2"&&(n.textContent=x),b=i(o),L=l(o,"H1",{"data-svelte-h":!0}),_(L)!=="svelte-o0zdvi"&&(L.textContent=j),Q=i(o),D=l(o,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),_(D)!=="svelte-1vn03ee"&&(D.textContent=rt),z=i(o),H=l(o,"TABLE",{id:!0});var c=T(H);B=l(c,"THEAD",{"data-svelte-h":!0}),_(B)!=="svelte-15hdz98"&&(B.innerHTML=it),V=i(c),m=l(c,"TR",{id:!0});var a=T(m);q=l(a,"TD",{"data-svelte-h":!0}),_(q)!=="svelte-mcho4g"&&(q.textContent=st),W=i(a),X=l(a,"TD",{"data-svelte-h":!0}),_(X)!=="svelte-ikkjvy"&&(X.innerHTML=ct),at=i(a),M=l(a,"TD",{"data-svelte-h":!0}),_(M)!=="svelte-1v1ln7m"&&(M.innerHTML=Tt),dt=i(a),R=l(a,"TD",{"data-svelte-h":!0}),_(R)!=="svelte-jhmlmg"&&(R.innerHTML=w),ht=i(a),J=l(a,"TD",{"data-svelte-h":!0}),_(J)!=="svelte-13gzsei"&&(J.innerHTML=G),pt=i(a),P=l(a,"TD",{"data-svelte-h":!0}),_(P)!=="svelte-mcho4g"&&(P.textContent=p),Y=i(a),F=l(a,"TD",{});var $=T(F);g=l($,"BUTTON",{type:!0,"data-svelte-h":!0}),_(g)!=="svelte-1bq1eh0"&&(g.textContent=et),S=i($),N=l($,"BUTTON",{type:!0,"data-svelte-h":!0}),_(N)!=="svelte-19ca7k8"&&(N.textContent=lt),$.forEach(u),a.forEach(u),A=i(c),U=l(c,"TBODY",{id:!0});var O=T(U);for(let vt=0;vt<v.length;vt+=1)v[vt].l(O);O.forEach(u),c.forEach(u),K=i(o),f=l(o,"DATALIST",{id:!0});var h=T(f);k=l(h,"OPTION",{"data-svelte-h":!0}),_(k)!=="svelte-1mqqvia"&&(k.textContent=nt),C=l(h,"OPTION",{"data-svelte-h":!0}),_(C)!=="svelte-1mkb7wl"&&(C.textContent=mt),y=l(h,"OPTION",{"data-svelte-h":!0}),_(y)!=="svelte-10956bv"&&(y.textContent=Z),h.forEach(u),this.h()},h(){s(D,"type","button"),s(D,"onclick","openAdd()"),s(g,"type","button"),s(N,"type","button"),s(m,"id","add-column"),s(U,"id","column-list-body"),s(H,"id","column-list-container"),k.__value="text",Ct(k,k.__value),C.__value="number-integer",Ct(C,C.__value),y.__value="number-real",Ct(y,y.__value),s(f,"id","column-types")},m(o,c){I(o,n,c),I(o,b,c),I(o,L,c),I(o,Q,c),I(o,D,c),I(o,z,c),I(o,H,c),t(H,B),t(H,V),t(H,m),t(m,q),t(m,W),t(m,X),t(m,at),t(m,M),t(m,dt),t(m,R),t(m,ht),t(m,J),t(m,pt),t(m,P),t(m,Y),t(m,F),t(F,g),t(F,S),t(F,N),t(H,A),t(H,U);for(let a=0;a<v.length;a+=1)v[a]&&v[a].m(U,null);I(o,K,c),I(o,f,c),t(f,k),t(f,C),t(f,y),ut||(ot=[Ot(g,"click",d[2]),Ot(N,"click",d[3])],ut=!0)},p(o,[c]){if(c&1){tt=It(o[0]);let a;for(a=0;a<tt.length;a+=1){const $=Pt(o,tt,a);v[a]?v[a].p($,c):(v[a]=St($),v[a].c(),v[a].m(U,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=tt.length}},i:yt,o:yt,d(o){o&&(u(n),u(b),u(L),u(Q),u(D),u(z),u(H),u(K),u(f)),Bt(v,o),ut=!1,$t(ot)}}}function At(d){alert(`Hello ${d}!`)}function wt(d,n,x){let{data:b}=n;const{columns:L}=b,j=()=>At("John"),Q=()=>At("Jane");return d.$$set=D=>{"data"in D&&x(1,b=D.data)},[L,b,j,Q]}class Ft extends jt{constructor(n){super(),zt(this,n,wt,Rt,Ut,{data:1})}}export{Ft as component,Yt as universal};
