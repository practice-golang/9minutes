import{s as Ht,n as it,r as Lt}from"../chunks/scheduler.e108d1fd.js";import{S as Mt,i as gt,g as l,s as i,h as n,y as C,c as s,j as k,f as r,k as h,z as pt,a as q,x as t,A as xt,B as Nt,e as yt,m as ot,n as at}from"../chunks/index.7e31c220.js";function bt(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}const It=async({fetch:o})=>{let e={};const m=await o("/api/admin/user-columns",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return m.ok&&(e=await m.json()),{columns:e}},$t=Object.freeze(Object.defineProperty({__proto__:null,load:It},Symbol.toStringTag,{value:"Module"}));function Dt(o,e,m){const T=o.slice();return T[5]=e[m],T[7]=m,T}function Ot(o){let e,m,T=" ",f,u,_,x,P,b,D,N,H,j,p,E,G,L,I,X,$,S=o[5]["sort-order"]+"",F,w,M,z='<button type="button" onclick="closeEdit()">Cancel</button> <button type="button" onclick="updateColumn()">Save</button>',Y;return{c(){e=l("tr"),m=l("td"),m.textContent=T,f=i(),u=l("td"),_=l("input"),x=i(),P=l("td"),b=l("input"),D=i(),N=l("td"),H=l("input"),j=i(),p=l("td"),E=l("input"),G=i(),L=l("td"),I=l("input"),X=i(),$=l("span"),F=ot(S),w=i(),M=l("td"),M.innerHTML=z,Y=i(),this.h()},l(O){e=n(O,"TR",{"lr-if":!0});var c=k(e);m=n(c,"TD",{"data-svelte-h":!0}),C(m)!=="svelte-mcho4g"&&(m.textContent=T),f=s(c),u=n(c,"TD",{});var K=k(u);_=n(K,"INPUT",{type:!0,name:!0,placeholder:!0}),K.forEach(r),x=s(c),P=n(c,"TD",{});var B=k(P);b=n(B,"INPUT",{type:!0,name:!0,placeholder:!0}),B.forEach(r),D=s(c),N=n(c,"TD",{});var R=k(N);H=n(R,"INPUT",{type:!0,name:!0,onchange:!0,list:!0,placeholder:!0}),R.forEach(r),j=s(c),p=n(c,"TD",{});var v=k(p);E=n(v,"INPUT",{type:!0,name:!0,placeholder:!0}),v.forEach(r),G=s(c),L=n(c,"TD",{});var A=k(L);I=n(A,"INPUT",{type:!0,name:!0}),X=s(A),$=n(A,"SPAN",{});var U=k($);F=at(U,S),U.forEach(r),A.forEach(r),w=s(c),M=n(c,"TD",{"data-svelte-h":!0}),C(M)!=="svelte-1towfea"&&(M.innerHTML=z),Y=s(c),c.forEach(r),this.h()},h(){h(_,"type","text"),h(_,"name","display-name"),_.value=o[5]["display-name"],h(_,"placeholder","Display name"),h(b,"type","text"),h(b,"name","column-code"),b.value=o[5]["column-code"],h(b,"placeholder","Column code"),h(H,"type","text"),h(H,"name","column-type"),H.value=o[5]["column-type"],h(H,"onchange","restrictDatalist(this)"),h(H,"list","column-types"),h(H,"placeholder","Column type"),H.disabled=!0,h(E,"type","text"),h(E,"name","column-name"),E.value=o[5]["column-name"],h(E,"placeholder","Column name"),h(I,"type","hidden"),h(I,"name","sort-order"),I.value=o[5]["sort-order"],h(e,"lr-if","columnEditIndex == $index")},m(O,c){q(O,e,c),t(e,m),t(e,f),t(e,u),t(u,_),t(e,x),t(e,P),t(P,b),t(e,D),t(e,N),t(N,H),t(e,j),t(e,p),t(p,E),t(e,G),t(e,L),t(L,I),t(L,X),t(L,$),t($,F),t(e,w),t(e,M),t(e,Y)},p:it,d(O){O&&r(e)}}}function Pt(o){let e,m,T='<input type="checkbox" name="select$index" placeholder="Select"/>',f,u,_=o[5]["display-name"]+"",x,P,b,D=o[5]["column-code"]+"",N,H,j,p=o[5]["column-type"]+"",E,G,L,I=o[5]["column-name"]+"",X,$,S,F=o[5]["sort-order"]+"",w,M,z,Y=" ",O,c,K='<button type="button" lr-click="openEdit($index)">Edit</button> <button type="button" lr-click="deleteColumn($index)">Delete</button>',B;return{c(){e=l("tr"),m=l("td"),m.innerHTML=T,f=i(),u=l("td"),x=ot(_),P=i(),b=l("td"),N=ot(D),H=i(),j=l("td"),E=ot(p),G=i(),L=l("td"),X=ot(I),$=i(),S=l("td"),w=ot(F),M=i(),z=l("td"),z.textContent=Y,O=i(),c=l("td"),c.innerHTML=K,B=i(),this.h()},l(R){e=n(R,"TR",{"lr-if":!0});var v=k(e);m=n(v,"TD",{"data-svelte-h":!0}),C(m)!=="svelte-1er8i0j"&&(m.innerHTML=T),f=s(v),u=n(v,"TD",{});var A=k(u);x=at(A,_),A.forEach(r),P=s(v),b=n(v,"TD",{});var U=k(b);N=at(U,D),U.forEach(r),H=s(v),j=n(v,"TD",{});var dt=k(j);E=at(dt,p),dt.forEach(r),G=s(v),L=n(v,"TD",{});var lt=k(L);X=at(lt,I),lt.forEach(r),$=s(v),S=n(v,"TD",{});var J=k(S);w=at(J,F),J.forEach(r),M=s(v),z=n(v,"TD",{"lr-if":!0,"data-svelte-h":!0}),C(z)!=="svelte-8zvfss"&&(z.textContent=Y),O=s(v),c=n(v,"TD",{"lr-if":!0,"data-svelte-h":!0}),C(c)!=="svelte-1ubfupt"&&(c.innerHTML=K),B=s(v),v.forEach(r),this.h()},h(){h(z,"lr-if","$index <= 6"),h(c,"lr-if","$index > 6"),h(e,"lr-if","columnEditIndex != $index")},m(R,v){q(R,e,v),t(e,m),t(e,f),t(e,u),t(u,x),t(e,P),t(e,b),t(b,N),t(e,H),t(e,j),t(j,E),t(e,G),t(e,L),t(L,X),t(e,$),t(e,S),t(S,w),t(e,M),t(e,z),t(e,O),t(e,c),t(e,B)},p:it,d(R){R&&r(e)}}}function Et(o){let e;function m(u,_){return u[1]!=u[7]?Pt:Ot}let f=m(o)(o);return{c(){f.c(),e=yt()},l(u){f.l(u),e=yt()},m(u,_){f.m(u,_),q(u,e,_)},p(u,_){f.p(u,_)},d(u){u&&r(e),f.d(u)}}}function St(o){let e,m="Admin / User columns",T,f,u="User fields",_,x,P="Add column",b,D,N,H='<tr><td><input type="checkbox" name="select-all" placeholder="Select all"/></td> <th>Display name</th> <th>Column code</th> <th>Column type</th> <th>Column name</th> <th>Sort Order</th> <th>Control</th></tr>',j,p,E,G=" ",L,I,X='<input type="text" name="display-name" value="" placeholder="Display name"/>',$,S,F='<input type="text" name="column-code" value="" placeholder="Column code"/>',w,M,z='<input type="text" name="column-type" value="" onchange="restrictDatalist(this)" list="column-types" placeholder="Column type"/>',Y,O,c='<input type="text" name="column-name" value="" placeholder="Column name"/>',K,B,R=" ",v,A,U,dt="Cancel",lt,J,mt="Save",st,tt,rt,Q,V,vt="Text",W,ft="Number Integer",Z,_t="Number Real",ct,Tt,nt=bt(o[0]),g=[];for(let a=0;a<nt.length;a+=1)g[a]=Et(Dt(o,nt,a));return{c(){e=l("h1"),e.textContent=m,T=i(),f=l("h1"),f.textContent=u,_=i(),x=l("button"),x.textContent=P,b=i(),D=l("table"),N=l("thead"),N.innerHTML=H,j=i(),p=l("tr"),E=l("td"),E.textContent=G,L=i(),I=l("td"),I.innerHTML=X,$=i(),S=l("td"),S.innerHTML=F,w=i(),M=l("td"),M.innerHTML=z,Y=i(),O=l("td"),O.innerHTML=c,K=i(),B=l("td"),B.textContent=R,v=i(),A=l("td"),U=l("button"),U.textContent=dt,lt=i(),J=l("button"),J.textContent=mt,st=i(),tt=l("tbody");for(let a=0;a<g.length;a+=1)g[a].c();rt=i(),Q=l("datalist"),V=l("option"),V.textContent=vt,W=l("option"),W.textContent=ft,Z=l("option"),Z.textContent=_t,this.h()},l(a){e=n(a,"H1",{"data-svelte-h":!0}),C(e)!=="svelte-o3nl2"&&(e.textContent=m),T=s(a),f=n(a,"H1",{"data-svelte-h":!0}),C(f)!=="svelte-o0zdvi"&&(f.textContent=u),_=s(a),x=n(a,"BUTTON",{type:!0,onclick:!0,"data-svelte-h":!0}),C(x)!=="svelte-1vn03ee"&&(x.textContent=P),b=s(a),D=n(a,"TABLE",{id:!0});var y=k(D);N=n(y,"THEAD",{"data-svelte-h":!0}),C(N)!=="svelte-15hdz98"&&(N.innerHTML=H),j=s(y),p=n(y,"TR",{id:!0});var d=k(p);E=n(d,"TD",{"data-svelte-h":!0}),C(E)!=="svelte-mcho4g"&&(E.textContent=G),L=s(d),I=n(d,"TD",{"data-svelte-h":!0}),C(I)!=="svelte-ikkjvy"&&(I.innerHTML=X),$=s(d),S=n(d,"TD",{"data-svelte-h":!0}),C(S)!=="svelte-1v1ln7m"&&(S.innerHTML=F),w=s(d),M=n(d,"TD",{"data-svelte-h":!0}),C(M)!=="svelte-jhmlmg"&&(M.innerHTML=z),Y=s(d),O=n(d,"TD",{"data-svelte-h":!0}),C(O)!=="svelte-13gzsei"&&(O.innerHTML=c),K=s(d),B=n(d,"TD",{"data-svelte-h":!0}),C(B)!=="svelte-mcho4g"&&(B.textContent=R),v=s(d),A=n(d,"TD",{});var et=k(A);U=n(et,"BUTTON",{type:!0,"data-svelte-h":!0}),C(U)!=="svelte-1bq1eh0"&&(U.textContent=dt),lt=s(et),J=n(et,"BUTTON",{type:!0,"data-svelte-h":!0}),C(J)!=="svelte-19ca7k8"&&(J.textContent=mt),et.forEach(r),d.forEach(r),st=s(y),tt=n(y,"TBODY",{id:!0});var Ct=k(tt);for(let ht=0;ht<g.length;ht+=1)g[ht].l(Ct);Ct.forEach(r),y.forEach(r),rt=s(a),Q=n(a,"DATALIST",{id:!0});var ut=k(Q);V=n(ut,"OPTION",{"data-svelte-h":!0}),C(V)!=="svelte-1mqqvia"&&(V.textContent=vt),W=n(ut,"OPTION",{"data-svelte-h":!0}),C(W)!=="svelte-1mkb7wl"&&(W.textContent=ft),Z=n(ut,"OPTION",{"data-svelte-h":!0}),C(Z)!=="svelte-10956bv"&&(Z.textContent=_t),ut.forEach(r),this.h()},h(){h(x,"type","button"),h(x,"onclick","openAdd()"),h(U,"type","button"),h(J,"type","button"),h(p,"id","add-column"),h(tt,"id","column-list-body"),h(D,"id","column-list-container"),V.__value="text",pt(V,V.__value),W.__value="number-integer",pt(W,W.__value),Z.__value="number-real",pt(Z,Z.__value),h(Q,"id","column-types")},m(a,y){q(a,e,y),q(a,T,y),q(a,f,y),q(a,_,y),q(a,x,y),q(a,b,y),q(a,D,y),t(D,N),t(D,j),t(D,p),t(p,E),t(p,L),t(p,I),t(p,$),t(p,S),t(p,w),t(p,M),t(p,Y),t(p,O),t(p,K),t(p,B),t(p,v),t(p,A),t(A,U),t(A,lt),t(A,J),t(D,st),t(D,tt);for(let d=0;d<g.length;d+=1)g[d]&&g[d].m(tt,null);q(a,rt,y),q(a,Q,y),t(Q,V),t(Q,W),t(Q,Z),ct||(Tt=[xt(U,"click",o[3]),xt(J,"click",o[4])],ct=!0)},p(a,[y]){if(y&3){nt=bt(a[0]);let d;for(d=0;d<nt.length;d+=1){const et=Dt(a,nt,d);g[d]?g[d].p(et,y):(g[d]=Et(et),g[d].c(),g[d].m(tt,null))}for(;d<g.length;d+=1)g[d].d(1);g.length=nt.length}},i:it,o:it,d(a){a&&(r(e),r(T),r(f),r(_),r(x),r(b),r(D),r(rt),r(Q)),Nt(g,a),ct=!1,Lt(Tt)}}}function kt(o){alert(`Hello ${o}!`)}function At(o,e,m){let{data:T}=e;const{columns:f}=T;let u=-1;const _=()=>kt("John"),x=()=>kt("Jane");return o.$$set=P=>{"data"in P&&m(2,T=P.data)},[f,u,T,_,x]}class zt extends Mt{constructor(e){super(),gt(this,e,At,St,Ht,{data:2})}}export{zt as component,$t as universal};
